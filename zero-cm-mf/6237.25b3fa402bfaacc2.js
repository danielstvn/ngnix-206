(self.webpackChunkzero_cm_mf=self.webpackChunkzero_cm_mf||[]).push([[6237,3970],{40445:(ne,W,y)=>{y.d(W,{Is:()=>D,vT:()=>w});var t=y(45449),c=y(90944);const S=new t.InjectionToken("cdk-dir-doc",{providedIn:"root",factory:function f(){return(0,t.inject)(c.DOCUMENT)}}),V=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let D=(()=>{class x{constructor(R){if(this.value="ltr",this.change=new t.EventEmitter,R){const K=R.documentElement?R.documentElement.dir:null;this.value=function L(x){const O=x?.toLowerCase()||"";return"auto"===O&&typeof navigator<"u"&&navigator?.language?V.test(navigator.language)?"rtl":"ltr":"rtl"===O?"rtl":"ltr"}((R.body?R.body.dir:null)||K||"ltr")}}ngOnDestroy(){this.change.complete()}}return x.\u0275fac=function(R){return new(R||x)(t.\u0275\u0275inject(S,8))},x.\u0275prov=t.\u0275\u0275defineInjectable({token:x,factory:x.\u0275fac,providedIn:"root"}),x})(),w=(()=>{class x{}return x.\u0275fac=function(R){return new(R||x)},x.\u0275mod=t.\u0275\u0275defineNgModule({type:x}),x.\u0275inj=t.\u0275\u0275defineInjector({}),x})()},21281:(ne,W,y)=>{y.d(W,{Eq:()=>V,Ig:()=>c,fI:()=>D,su:()=>S});var t=y(45449);function c(w){return null!=w&&"false"!=`${w}`}function S(w,x=0){return function f(w){return!isNaN(parseFloat(w))&&!isNaN(Number(w))}(w)?Number(w):x}function V(w){return Array.isArray(w)?w:[w]}function D(w){return w instanceof t.ElementRef?w.nativeElement:w}},83353:(ne,W,y)=>{y.d(W,{Mq:()=>K,_i:()=>le,i$:()=>O,kV:()=>Y,sA:()=>te,t4:()=>f});var t=y(45449),c=y(90944);let S;try{S=typeof Intl<"u"&&Intl.v8BreakIterator}catch{S=!1}let w,R,P,$,f=(()=>{class _{constructor(M){this._platformId=M,this.isBrowser=this._platformId?(0,c.isPlatformBrowser)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!S)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return _.\u0275fac=function(M){return new(M||_)(t.\u0275\u0275inject(t.PLATFORM_ID))},_.\u0275prov=t.\u0275\u0275defineInjectable({token:_,factory:_.\u0275fac,providedIn:"root"}),_})();function O(_){return function x(){if(null==w&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>w=!0}))}finally{w=w||!1}return w}()?_:!!_.capture}function K(){if(null==P){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return P=!1,P;if("scrollBehavior"in document.documentElement.style)P=!0;else{const _=Element.prototype.scrollTo;P=!!_&&!/\{\s*\[native code\]\s*\}/.test(_.toString())}}return P}function le(){if("object"!=typeof document||!document)return 0;if(null==R){const _=document.createElement("div"),k=_.style;_.dir="rtl",k.width="1px",k.overflow="auto",k.visibility="hidden",k.pointerEvents="none",k.position="absolute";const M=document.createElement("div"),q=M.style;q.width="2px",q.height="1px",_.appendChild(M),document.body.appendChild(_),R=0,0===_.scrollLeft&&(_.scrollLeft=1,R=0===_.scrollLeft?1:2),_.remove()}return R}function Y(_){if(function X(){if(null==$){const _=typeof document<"u"?document.head:null;$=!(!_||!_.createShadowRoot&&!_.attachShadow)}return $}()){const k=_.getRootNode?_.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&k instanceof ShadowRoot)return k}return null}function te(_){return _.composedPath?_.composedPath()[0]:_.target}},13488:(ne,W,y)=>{y.d(W,{xd:()=>_,ZD:()=>ie,x0:()=>me,N7:()=>ae,mF:()=>M,Cl:()=>ge,rL:()=>oe});var t=y(21281),c=y(45449),S=y(77311),f=y(14928),V=y(83353),L=y(90944),D=y(40445);class x extends class Z{}{constructor(d){super(),this._data=d}connect(){return(0,S.isObservable)(this._data)?this._data:(0,S.of)(this._data)}disconnect(){}}class R{constructor(){this.viewCacheSize=20,this._viewCache=[]}applyChanges(d,n,o,h,u){d.forEachOperation((v,E,C)=>{let T,H;null==v.previousIndex?(T=this._insertView(()=>o(v,E,C),C,n,h(v)),H=T?1:0):null==C?(this._detachAndCacheView(E,n),H=3):(T=this._moveView(E,C,n,h(v)),H=2),u&&u({context:T?.context,operation:H,record:v})})}detach(){for(const d of this._viewCache)d.destroy();this._viewCache=[]}_insertView(d,n,o,h){const u=this._insertViewFromCache(n,o);if(u)return void(u.context.$implicit=h);const v=d();return o.createEmbeddedView(v.templateRef,v.context,v.index)}_detachAndCacheView(d,n){const o=n.detach(d);this._maybeCacheView(o,n)}_moveView(d,n,o,h){const u=o.get(d);return o.move(u,n),u.context.$implicit=h,u}_maybeCacheView(d,n){if(this._viewCache.length<this.viewCacheSize)this._viewCache.push(d);else{const o=n.indexOf(d);-1===o?d.destroy():n.remove(o)}}_insertViewFromCache(d,n){const o=this._viewCache.pop();return o&&n.insert(o,d),o||null}}const $=new c.InjectionToken("_ViewRepeater"),X=["contentWrapper"],Y=["*"],ee=new c.InjectionToken("VIRTUAL_SCROLL_STRATEGY");class te{constructor(d,n,o){this._scrolledIndexChange=new S.Subject,this.scrolledIndexChange=this._scrolledIndexChange.pipe((0,f.distinctUntilChanged)()),this._viewport=null,this._itemSize=d,this._minBufferPx=n,this._maxBufferPx=o}attach(d){this._viewport=d,this._updateTotalContentSize(),this._updateRenderedRange()}detach(){this._scrolledIndexChange.complete(),this._viewport=null}updateItemAndBufferSize(d,n,o){this._itemSize=d,this._minBufferPx=n,this._maxBufferPx=o,this._updateTotalContentSize(),this._updateRenderedRange()}onContentScrolled(){this._updateRenderedRange()}onDataLengthChanged(){this._updateTotalContentSize(),this._updateRenderedRange()}onContentRendered(){}onRenderedOffsetChanged(){}scrollToIndex(d,n){this._viewport&&this._viewport.scrollToOffset(d*this._itemSize,n)}_updateTotalContentSize(){!this._viewport||this._viewport.setTotalContentSize(this._viewport.getDataLength()*this._itemSize)}_updateRenderedRange(){if(!this._viewport)return;const d=this._viewport.getRenderedRange(),n={start:d.start,end:d.end},o=this._viewport.getViewportSize(),h=this._viewport.getDataLength();let u=this._viewport.measureScrollOffset(),v=this._itemSize>0?u/this._itemSize:0;if(n.end>h){const C=Math.ceil(o/this._itemSize),T=Math.max(0,Math.min(v,h-C));v!=T&&(v=T,u=T*this._itemSize,n.start=Math.floor(v)),n.end=Math.max(0,Math.min(h,n.start+C))}const E=u-n.start*this._itemSize;if(E<this._minBufferPx&&0!=n.start){const C=Math.ceil((this._maxBufferPx-E)/this._itemSize);n.start=Math.max(0,n.start-C),n.end=Math.min(h,Math.ceil(v+(o+this._minBufferPx)/this._itemSize))}else{const C=n.end*this._itemSize-(u+o);if(C<this._minBufferPx&&n.end!=h){const T=Math.ceil((this._maxBufferPx-C)/this._itemSize);T>0&&(n.end=Math.min(h,n.end+T),n.start=Math.max(0,Math.floor(v-this._minBufferPx/this._itemSize)))}}this._viewport.setRenderedRange(n),this._viewport.setRenderedContentOffset(this._itemSize*n.start),this._scrolledIndexChange.next(Math.floor(v))}}function re(p){return p._scrollStrategy}let _=(()=>{class p{constructor(){this._itemSize=20,this._minBufferPx=100,this._maxBufferPx=200,this._scrollStrategy=new te(this.itemSize,this.minBufferPx,this.maxBufferPx)}get itemSize(){return this._itemSize}set itemSize(n){this._itemSize=(0,t.su)(n)}get minBufferPx(){return this._minBufferPx}set minBufferPx(n){this._minBufferPx=(0,t.su)(n)}get maxBufferPx(){return this._maxBufferPx}set maxBufferPx(n){this._maxBufferPx=(0,t.su)(n)}ngOnChanges(){this._scrollStrategy.updateItemAndBufferSize(this.itemSize,this.minBufferPx,this.maxBufferPx)}}return p.\u0275fac=function(n){return new(n||p)},p.\u0275dir=c.\u0275\u0275defineDirective({type:p,selectors:[["cdk-virtual-scroll-viewport","itemSize",""]],inputs:{itemSize:"itemSize",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx"},features:[c.\u0275\u0275ProvidersFeature([{provide:ee,useFactory:re,deps:[(0,c.forwardRef)(()=>p)]}]),c.\u0275\u0275NgOnChangesFeature]}),p})(),M=(()=>{class p{constructor(n,o,h){this._ngZone=n,this._platform=o,this._scrolled=new S.Subject,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=h}register(n){this.scrollContainers.has(n)||this.scrollContainers.set(n,n.elementScrolled().subscribe(()=>this._scrolled.next(n)))}deregister(n){const o=this.scrollContainers.get(n);o&&(o.unsubscribe(),this.scrollContainers.delete(n))}scrolled(n=20){return this._platform.isBrowser?new S.Observable(o=>{this._globalSubscription||this._addGlobalListener();const h=n>0?this._scrolled.pipe((0,f.auditTime)(n)).subscribe(o):this._scrolled.subscribe(o);return this._scrolledCount++,()=>{h.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):(0,S.of)()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((n,o)=>this.deregister(o)),this._scrolled.complete()}ancestorScrolled(n,o){const h=this.getAncestorScrollContainers(n);return this.scrolled(o).pipe((0,f.filter)(u=>!u||h.indexOf(u)>-1))}getAncestorScrollContainers(n){const o=[];return this.scrollContainers.forEach((h,u)=>{this._scrollableContainsElement(u,n)&&o.push(u)}),o}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(n,o){let h=(0,t.fI)(o),u=n.getElementRef().nativeElement;do{if(h==u)return!0}while(h=h.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>{const n=this._getWindow();return(0,S.fromEvent)(n.document,"scroll").subscribe(()=>this._scrolled.next())})}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return p.\u0275fac=function(n){return new(n||p)(c.\u0275\u0275inject(c.NgZone),c.\u0275\u0275inject(V.t4),c.\u0275\u0275inject(L.DOCUMENT,8))},p.\u0275prov=c.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"}),p})(),q=(()=>{class p{constructor(n,o,h,u){this.elementRef=n,this.scrollDispatcher=o,this.ngZone=h,this.dir=u,this._destroyed=new S.Subject,this._elementScrolled=new S.Observable(v=>this.ngZone.runOutsideAngular(()=>(0,S.fromEvent)(this.elementRef.nativeElement,"scroll").pipe((0,f.takeUntil)(this._destroyed)).subscribe(v)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(n){const o=this.elementRef.nativeElement,h=this.dir&&"rtl"==this.dir.value;null==n.left&&(n.left=h?n.end:n.start),null==n.right&&(n.right=h?n.start:n.end),null!=n.bottom&&(n.top=o.scrollHeight-o.clientHeight-n.bottom),h&&0!=(0,V._i)()?(null!=n.left&&(n.right=o.scrollWidth-o.clientWidth-n.left),2==(0,V._i)()?n.left=n.right:1==(0,V._i)()&&(n.left=n.right?-n.right:n.right)):null!=n.right&&(n.left=o.scrollWidth-o.clientWidth-n.right),this._applyScrollToOptions(n)}_applyScrollToOptions(n){const o=this.elementRef.nativeElement;(0,V.Mq)()?o.scrollTo(n):(null!=n.top&&(o.scrollTop=n.top),null!=n.left&&(o.scrollLeft=n.left))}measureScrollOffset(n){const o="left",h="right",u=this.elementRef.nativeElement;if("top"==n)return u.scrollTop;if("bottom"==n)return u.scrollHeight-u.clientHeight-u.scrollTop;const v=this.dir&&"rtl"==this.dir.value;return"start"==n?n=v?h:o:"end"==n&&(n=v?o:h),v&&2==(0,V._i)()?n==o?u.scrollWidth-u.clientWidth-u.scrollLeft:u.scrollLeft:v&&1==(0,V._i)()?n==o?u.scrollLeft+u.scrollWidth-u.clientWidth:-u.scrollLeft:n==o?u.scrollLeft:u.scrollWidth-u.clientWidth-u.scrollLeft}}return p.\u0275fac=function(n){return new(n||p)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(M),c.\u0275\u0275directiveInject(c.NgZone),c.\u0275\u0275directiveInject(D.Is,8))},p.\u0275dir=c.\u0275\u0275defineDirective({type:p,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),p})(),oe=(()=>{class p{constructor(n,o,h){this._platform=n,this._change=new S.Subject,this._changeListener=u=>{this._change.next(u)},this._document=h,o.runOutsideAngular(()=>{if(n.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const n=this._getWindow();n.removeEventListener("resize",this._changeListener),n.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const n={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),n}getViewportRect(){const n=this.getViewportScrollPosition(),{width:o,height:h}=this.getViewportSize();return{top:n.top,left:n.left,bottom:n.top+h,right:n.left+o,height:h,width:o}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const n=this._document,o=this._getWindow(),h=n.documentElement,u=h.getBoundingClientRect();return{top:-u.top||n.body.scrollTop||o.scrollY||h.scrollTop||0,left:-u.left||n.body.scrollLeft||o.scrollX||h.scrollLeft||0}}change(n=20){return n>0?this._change.pipe((0,f.auditTime)(n)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const n=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:n.innerWidth,height:n.innerHeight}:{width:0,height:0}}}return p.\u0275fac=function(n){return new(n||p)(c.\u0275\u0275inject(V.t4),c.\u0275\u0275inject(c.NgZone),c.\u0275\u0275inject(L.DOCUMENT,8))},p.\u0275prov=c.\u0275\u0275defineInjectable({token:p,factory:p.\u0275fac,providedIn:"root"}),p})();const se=new c.InjectionToken("VIRTUAL_SCROLLABLE");let ue=(()=>{class p extends q{constructor(n,o,h,u){super(n,o,h,u)}measureViewportSize(n){const o=this.elementRef.nativeElement;return"horizontal"===n?o.clientWidth:o.clientHeight}}return p.\u0275fac=function(n){return new(n||p)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(M),c.\u0275\u0275directiveInject(c.NgZone),c.\u0275\u0275directiveInject(D.Is,8))},p.\u0275dir=c.\u0275\u0275defineDirective({type:p,features:[c.\u0275\u0275InheritDefinitionFeature]}),p})();const fe=typeof requestAnimationFrame<"u"?S.animationFrameScheduler:S.asapScheduler;let ae=(()=>{class p extends ue{constructor(n,o,h,u,v,E,C,T){super(n,E,h,v),this.elementRef=n,this._changeDetectorRef=o,this._scrollStrategy=u,this.scrollable=T,this._platform=(0,c.inject)(V.t4),this._detachedSubject=new S.Subject,this._renderedRangeSubject=new S.Subject,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new S.Observable(H=>this._scrollStrategy.scrolledIndexChange.subscribe(Q=>Promise.resolve().then(()=>this.ngZone.run(()=>H.next(Q))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=S.Subscription.EMPTY,this._viewportChanges=C.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}get orientation(){return this._orientation}set orientation(n){this._orientation!==n&&(this._orientation=n,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(n){this._appendOnly=(0,t.Ig)(n)}ngOnInit(){!this._platform.isBrowser||(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe((0,f.startWith)(null),(0,f.auditTime)(0,fe)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(n){this.ngZone.runOutsideAngular(()=>{this._forOf=n,this._forOf.dataStream.pipe((0,f.takeUntil)(this._detachedSubject)).subscribe(o=>{const h=o.length;h!==this._dataLength&&(this._dataLength=h,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(n){return this.getElementRef().nativeElement.getBoundingClientRect()[n]}setTotalContentSize(n){this._totalContentSize!==n&&(this._totalContentSize=n,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(n){(function pe(p,d){return p.start==d.start&&p.end==d.end})(this._renderedRange,n)||(this.appendOnly&&(n={start:0,end:Math.max(this._renderedRange.end,n.end)}),this._renderedRangeSubject.next(this._renderedRange=n),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(n,o="to-start"){n=this.appendOnly&&"to-start"===o?0:n;const u="horizontal"==this.orientation,v=u?"X":"Y";let C=`translate${v}(${Number((u&&this.dir&&"rtl"==this.dir.value?-1:1)*n)}px)`;this._renderedContentOffset=n,"to-end"===o&&(C+=` translate${v}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=C&&(this._renderedContentTransform=C,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(n,o="auto"){const h={behavior:o};"horizontal"===this.orientation?h.start=n:h.top=n,this.scrollable.scrollTo(h)}scrollToIndex(n,o="auto"){this._scrollStrategy.scrollToIndex(n,o)}measureScrollOffset(n){let o;return o=this.scrollable==this?h=>super.measureScrollOffset(h):h=>this.scrollable.measureScrollOffset(h),Math.max(0,o(n??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(n){let o;const h="left",u="right",v="rtl"==this.dir?.value;o="start"==n?v?u:h:"end"==n?v?h:u:n||("horizontal"===this.orientation?"left":"top");const E=this.scrollable.measureBoundingClientRectWithScrollOffset(o);return this.elementRef.nativeElement.getBoundingClientRect()[o]-E}measureRenderedContentSize(){const n=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?n.offsetWidth:n.offsetHeight}measureRangeSize(n){return this._forOf?this._forOf.measureRangeSize(n,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(n){n&&this._runAfterChangeDetection.push(n),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const n=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const o of n)o()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return p.\u0275fac=function(n){return new(n||p)(c.\u0275\u0275directiveInject(c.ElementRef),c.\u0275\u0275directiveInject(c.ChangeDetectorRef),c.\u0275\u0275directiveInject(c.NgZone),c.\u0275\u0275directiveInject(ee,8),c.\u0275\u0275directiveInject(D.Is,8),c.\u0275\u0275directiveInject(M),c.\u0275\u0275directiveInject(oe),c.\u0275\u0275directiveInject(se,8))},p.\u0275cmp=c.\u0275\u0275defineComponent({type:p,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(n,o){if(1&n&&c.\u0275\u0275viewQuery(X,7),2&n){let h;c.\u0275\u0275queryRefresh(h=c.\u0275\u0275loadQuery())&&(o._contentWrapper=h.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(n,o){2&n&&c.\u0275\u0275classProp("cdk-virtual-scroll-orientation-horizontal","horizontal"===o.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==o.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},features:[c.\u0275\u0275ProvidersFeature([{provide:q,useFactory:(d,n)=>d||n,deps:[[new c.Optional,new c.Inject(se)],p]}]),c.\u0275\u0275InheritDefinitionFeature],ngContentSelectors:Y,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(n,o){1&n&&(c.\u0275\u0275projectionDef(),c.\u0275\u0275elementStart(0,"div",0,1),c.\u0275\u0275projection(2),c.\u0275\u0275elementEnd(),c.\u0275\u0275element(3,"div",2)),2&n&&(c.\u0275\u0275advance(3),c.\u0275\u0275styleProp("width",o._totalContentWidth)("height",o._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),p})();function de(p,d,n){if(!n.getBoundingClientRect)return 0;const h=n.getBoundingClientRect();return"horizontal"===p?"start"===d?h.left:h.right:"start"===d?h.top:h.bottom}let me=(()=>{class p{constructor(n,o,h,u,v,E){this._viewContainerRef=n,this._template=o,this._differs=h,this._viewRepeater=u,this._viewport=v,this.viewChange=new S.Subject,this._dataSourceChanges=new S.Subject,this.dataStream=this._dataSourceChanges.pipe((0,f.startWith)(null),(0,f.pairwise)(),(0,f.switchMap)(([C,T])=>this._changeDataSource(C,T)),(0,f.shareReplay)(1)),this._differ=null,this._needsUpdate=!1,this._destroyed=new S.Subject,this.dataStream.subscribe(C=>{this._data=C,this._onRenderedDataChange()}),this._viewport.renderedRangeStream.pipe((0,f.takeUntil)(this._destroyed)).subscribe(C=>{this._renderedRange=C,this.viewChange.observers.length&&E.run(()=>this.viewChange.next(this._renderedRange)),this._onRenderedDataChange()}),this._viewport.attach(this)}get cdkVirtualForOf(){return this._cdkVirtualForOf}set cdkVirtualForOf(n){this._cdkVirtualForOf=n,function w(p){return p&&"function"==typeof p.connect&&!(p instanceof S.ConnectableObservable)}(n)?this._dataSourceChanges.next(n):this._dataSourceChanges.next(new x((0,S.isObservable)(n)?n:Array.from(n||[])))}get cdkVirtualForTrackBy(){return this._cdkVirtualForTrackBy}set cdkVirtualForTrackBy(n){this._needsUpdate=!0,this._cdkVirtualForTrackBy=n?(o,h)=>n(o+(this._renderedRange?this._renderedRange.start:0),h):void 0}set cdkVirtualForTemplate(n){n&&(this._needsUpdate=!0,this._template=n)}get cdkVirtualForTemplateCacheSize(){return this._viewRepeater.viewCacheSize}set cdkVirtualForTemplateCacheSize(n){this._viewRepeater.viewCacheSize=(0,t.su)(n)}measureRangeSize(n,o){if(n.start>=n.end)return 0;const h=n.start-this._renderedRange.start,u=n.end-n.start;let v,E;for(let C=0;C<u;C++){const T=this._viewContainerRef.get(C+h);if(T&&T.rootNodes.length){v=E=T.rootNodes[0];break}}for(let C=u-1;C>-1;C--){const T=this._viewContainerRef.get(C+h);if(T&&T.rootNodes.length){E=T.rootNodes[T.rootNodes.length-1];break}}return v&&E?de(o,"end",E)-de(o,"start",v):0}ngDoCheck(){if(this._differ&&this._needsUpdate){const n=this._differ.diff(this._renderedItems);n?this._applyChanges(n):this._updateContext(),this._needsUpdate=!1}}ngOnDestroy(){this._viewport.detach(),this._dataSourceChanges.next(void 0),this._dataSourceChanges.complete(),this.viewChange.complete(),this._destroyed.next(),this._destroyed.complete(),this._viewRepeater.detach()}_onRenderedDataChange(){!this._renderedRange||(this._renderedItems=this._data.slice(this._renderedRange.start,this._renderedRange.end),this._differ||(this._differ=this._differs.find(this._renderedItems).create((n,o)=>this.cdkVirtualForTrackBy?this.cdkVirtualForTrackBy(n,o):o)),this._needsUpdate=!0)}_changeDataSource(n,o){return n&&n.disconnect(this),this._needsUpdate=!0,o?o.connect(this):(0,S.of)()}_updateContext(){const n=this._data.length;let o=this._viewContainerRef.length;for(;o--;){const h=this._viewContainerRef.get(o);h.context.index=this._renderedRange.start+o,h.context.count=n,this._updateComputedContextProperties(h.context),h.detectChanges()}}_applyChanges(n){this._viewRepeater.applyChanges(n,this._viewContainerRef,(u,v,E)=>this._getEmbeddedViewArgs(u,E),u=>u.item),n.forEachIdentityChange(u=>{this._viewContainerRef.get(u.currentIndex).context.$implicit=u.item});const o=this._data.length;let h=this._viewContainerRef.length;for(;h--;){const u=this._viewContainerRef.get(h);u.context.index=this._renderedRange.start+h,u.context.count=o,this._updateComputedContextProperties(u.context)}}_updateComputedContextProperties(n){n.first=0===n.index,n.last=n.index===n.count-1,n.even=n.index%2==0,n.odd=!n.even}_getEmbeddedViewArgs(n,o){return{templateRef:this._template,context:{$implicit:n.item,cdkVirtualForOf:this._cdkVirtualForOf,index:-1,count:-1,first:!1,last:!1,odd:!1,even:!1},index:o}}}return p.\u0275fac=function(n){return new(n||p)(c.\u0275\u0275directiveInject(c.ViewContainerRef),c.\u0275\u0275directiveInject(c.TemplateRef),c.\u0275\u0275directiveInject(c.IterableDiffers),c.\u0275\u0275directiveInject($),c.\u0275\u0275directiveInject(ae,4),c.\u0275\u0275directiveInject(c.NgZone))},p.\u0275dir=c.\u0275\u0275defineDirective({type:p,selectors:[["","cdkVirtualFor","","cdkVirtualForOf",""]],inputs:{cdkVirtualForOf:"cdkVirtualForOf",cdkVirtualForTrackBy:"cdkVirtualForTrackBy",cdkVirtualForTemplate:"cdkVirtualForTemplate",cdkVirtualForTemplateCacheSize:"cdkVirtualForTemplateCacheSize"},features:[c.\u0275\u0275ProvidersFeature([{provide:$,useClass:R}])]}),p})(),ie=(()=>{class p{}return p.\u0275fac=function(n){return new(n||p)},p.\u0275mod=c.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=c.\u0275\u0275defineInjector({}),p})(),ge=(()=>{class p{}return p.\u0275fac=function(n){return new(n||p)},p.\u0275mod=c.\u0275\u0275defineNgModule({type:p}),p.\u0275inj=c.\u0275\u0275defineInjector({imports:[D.vT,ie,D.vT,ie]}),p})()},36237:(ne,W,y)=>{y.r(W),y.d(W,{TTBody:()=>be,TTCheckbox:()=>ht,TTContextMenuRow:()=>ct,TTEditableColumn:()=>Te,TTHeaderCheckbox:()=>ut,TTReorderableColumn:()=>st,TTResizableColumn:()=>ot,TTRow:()=>ft,TTScrollableView:()=>ye,TTSelectableRow:()=>at,TTSelectableRowDblClick:()=>dt,TTSortIcon:()=>rt,TTSortableColumn:()=>lt,TreeTable:()=>B,TreeTableCellEditor:()=>pt,TreeTableModule:()=>gt,TreeTableService:()=>G,TreeTableToggler:()=>mt});var t=y(45449),c=y(90944),S=y(77311),f=y(41045),V=y(35548),L=y(60859),D=y(37524),Z=y(61711),w=y(13488);const x=["container"],O=["resizeHelper"],R=["reorderIndicatorUp"],P=["reorderIndicatorDown"],K=["table"],le=["scrollableView"],$=["scrollableFrozenView"];function X(l,a){if(1&l&&(t.\u0275\u0275elementStart(0,"div",12)(1,"div",13),t.\u0275\u0275element(2,"i"),t.\u0275\u0275elementEnd()()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(2),t.\u0275\u0275classMap("p-treetable-loading-icon pi-spin "+e.loadingIcon)}}function Y(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function ee(l,a){if(1&l&&(t.\u0275\u0275elementStart(0,"div",14),t.\u0275\u0275template(1,Y,1,0,"ng-container",15),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",e.captionTemplate)}}function te(l,a){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"p-paginator",16),t.\u0275\u0275listener("onPageChange",function(r){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onPageChange(r))}),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function re(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function _(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function k(l,a){1&l&&t.\u0275\u0275elementContainer(0)}const M=function(l){return{$implicit:l}};function q(l,a){if(1&l&&(t.\u0275\u0275elementStart(0,"div",17)(1,"table",18,19),t.\u0275\u0275template(3,re,1,0,"ng-container",20),t.\u0275\u0275elementStart(4,"thead",21),t.\u0275\u0275template(5,_,1,0,"ng-container",20),t.\u0275\u0275elementEnd(),t.\u0275\u0275element(6,"tbody",22),t.\u0275\u0275elementStart(7,"tfoot",23),t.\u0275\u0275template(8,k,1,0,"ng-container",20),t.\u0275\u0275elementEnd()()()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",e.tableStyleClass)("ngStyle",e.tableStyle),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",e.colGroupTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(10,M,e.columns)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",e.headerTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(12,M,e.columns)),t.\u0275\u0275advance(1),t.\u0275\u0275property("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.bodyTemplate),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",e.footerTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(14,M,e.columns))}}const he=function(l){return{width:l}};function oe(l,a){if(1&l&&t.\u0275\u0275element(0,"div",28,29),2&l){const e=t.\u0275\u0275nextContext(2);t.\u0275\u0275property("ttScrollableView",e.frozenColumns)("frozen",!0)("ngStyle",t.\u0275\u0275pureFunction1(4,he,e.frozenWidth))("scrollHeight",e.scrollHeight)}}const se=function(l,a){return{left:l,width:a}};function ue(l,a){if(1&l&&(t.\u0275\u0275elementStart(0,"div",24),t.\u0275\u0275template(1,oe,2,6,"div",25),t.\u0275\u0275element(2,"div",26,27),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.frozenColumns||e.frozenBodyTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ttScrollableView",e.columns)("frozen",!1)("scrollHeight",e.scrollHeight)("ngStyle",t.\u0275\u0275pureFunction2(5,se,e.frozenWidth,"calc(100% - "+e.frozenWidth+")"))}}function pe(l,a){if(1&l){const e=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"p-paginator",30),t.\u0275\u0275listener("onPageChange",function(r){t.\u0275\u0275restoreView(e);const s=t.\u0275\u0275nextContext();return t.\u0275\u0275resetView(s.onPageChange(r))}),t.\u0275\u0275elementEnd()}if(2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275property("rows",e.rows)("first",e.first)("totalRecords",e.totalRecords)("pageLinkSize",e.pageLinks)("alwaysShow",e.alwaysShowPaginator)("rowsPerPageOptions",e.rowsPerPageOptions)("templateLeft",e.paginatorLeftTemplate)("templateRight",e.paginatorRightTemplate)("dropdownAppendTo",e.paginatorDropdownAppendTo)("currentPageReportTemplate",e.currentPageReportTemplate)("showFirstLastIcon",e.showFirstLastIcon)("dropdownItemTemplate",e.paginatorDropdownItemTemplate)("showCurrentPageReport",e.showCurrentPageReport)("showJumpToPageDropdown",e.showJumpToPageDropdown)("showPageLinks",e.showPageLinks)}}function fe(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function ae(l,a){if(1&l&&(t.\u0275\u0275elementStart(0,"div",31),t.\u0275\u0275template(1,fe,1,0,"ng-container",15),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",e.summaryTemplate)}}function de(l,a){1&l&&t.\u0275\u0275element(0,"div",32,33)}function me(l,a){1&l&&t.\u0275\u0275element(0,"span",34,35)}function we(l,a){1&l&&t.\u0275\u0275element(0,"span",36,37)}const Ce=function(l,a,e,i,r){return{"p-treetable p-component":!0,"p-treetable-hoverable-rows":l,"p-treetable-auto-layout":a,"p-treetable-resizable":e,"p-treetable-resizable-fit":i,"p-treetable-flex-scrollable":r}},ie=["pTreeTableBody",""];function ge(l,a){1&l&&t.\u0275\u0275elementContainer(0)}const p=function(l,a,e,i){return{$implicit:l,node:a,rowData:e,columns:i}};function d(l,a){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,ge,1,0,"ng-container",2),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",i.template)("ngTemplateOutletContext",t.\u0275\u0275pureFunction4(2,p,e,e.node,e.node.data,i.columns))}}function n(l,a){1&l&&t.\u0275\u0275template(0,d,2,7,"ng-container",0),2&l&&t.\u0275\u0275property("ngIf",a.$implicit.visible)}function o(l,a){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,n,1,1,"ng-template",1),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngForOf",e.tt.serializedValue)("ngForTrackBy",e.tt.rowTrackBy)}}function h(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function u(l,a){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,h,1,0,"ng-container",2),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext().$implicit,i=t.\u0275\u0275nextContext(2);t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",i.template)("ngTemplateOutletContext",t.\u0275\u0275pureFunction4(2,p,e,e.node,e.node.data,i.columns))}}function v(l,a){1&l&&t.\u0275\u0275template(0,u,2,7,"ng-container",0),2&l&&t.\u0275\u0275property("ngIf",a.$implicit.visible)}function E(l,a){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,v,1,1,"ng-template",3),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("cdkVirtualForOf",e.tt.serializedValue)("cdkVirtualForTrackBy",e.tt.rowTrackBy)("cdkVirtualForTemplateCacheSize",0)}}function C(l,a){1&l&&t.\u0275\u0275elementContainer(0)}const T=function(l,a){return{$implicit:l,frozen:a}};function H(l,a){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,C,1,0,"ng-container",2),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",e.tt.emptyMessageTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction2(2,T,e.columns,e.frozen))}}const Q=["scrollHeader"],Re=["scrollHeaderBox"],ke=["scrollBody"],Me=["scrollTable"],Ie=["loadingTable"],ze=["scrollFooter"],Ve=["scrollFooterBox"],Le=["scrollableAligner"],Oe=["ttScrollableView",""];function Fe(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function Pe(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function Be(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function Ne(l,a){1&l&&t.\u0275\u0275element(0,"div",16,17)}const He=function(l,a){return{"max-height":l,"overflow-y":a}};function je(l,a){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275elementStart(1,"div",10,11)(3,"table",12,13),t.\u0275\u0275template(5,Be,1,0,"ng-container",5),t.\u0275\u0275element(6,"tbody",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(7,Ne,2,0,"div",15),t.\u0275\u0275elementEnd(),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngStyle",t.\u0275\u0275pureFunction2(10,He,"flex"!==e.tt.scrollHeight?e.scrollHeight:void 0,!e.frozen&&e.tt.scrollHeight?"scroll":void 0)),t.\u0275\u0275advance(2),t.\u0275\u0275classMap(e.tt.tableStyleClass),t.\u0275\u0275property("ngStyle",e.tt.tableStyle),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",e.frozen&&e.tt.frozenColGroupTemplate||e.tt.colGroupTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(13,M,e.columns)),t.\u0275\u0275advance(1),t.\u0275\u0275property("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.frozen&&e.tt.frozenBodyTemplate||e.tt.bodyTemplate)("frozen",e.frozen),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.frozen)}}function Ae(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function Ue(l,a){1&l&&t.\u0275\u0275element(0,"div",16,17)}function We(l,a){if(1&l&&(t.\u0275\u0275elementStart(0,"cdk-virtual-scroll-viewport",18)(1,"table",12,13),t.\u0275\u0275template(3,Ae,1,0,"ng-container",5),t.\u0275\u0275element(4,"tbody",14),t.\u0275\u0275elementEnd(),t.\u0275\u0275template(5,Ue,2,0,"div",15),t.\u0275\u0275elementEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275styleProp("height","flex"!==e.tt.scrollHeight?e.scrollHeight:void 0),t.\u0275\u0275property("itemSize",e.tt.virtualRowHeight)("minBufferPx",e.tt.minBufferPx)("maxBufferPx",e.tt.maxBufferPx),t.\u0275\u0275advance(1),t.\u0275\u0275classMap(e.tt.tableStyleClass),t.\u0275\u0275property("ngStyle",e.tt.tableStyle),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",e.frozen&&e.tt.frozenColGroupTemplate||e.tt.colGroupTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(14,M,e.columns)),t.\u0275\u0275advance(1),t.\u0275\u0275property("pTreeTableBody",e.columns)("pTreeTableBodyTemplate",e.frozen&&e.tt.frozenBodyTemplate||e.tt.bodyTemplate)("frozen",e.frozen),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",e.frozen)}}function Ke(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function Qe(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function Ge(l,a){if(1&l&&(t.\u0275\u0275elementStart(0,"div",19,20)(2,"div",21,22)(4,"table",23),t.\u0275\u0275template(5,Ke,1,0,"ng-container",5),t.\u0275\u0275elementStart(6,"tfoot",24),t.\u0275\u0275template(7,Qe,1,0,"ng-container",5),t.\u0275\u0275elementEnd()()()()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(4),t.\u0275\u0275property("ngClass",e.tt.tableStyleClass)("ngStyle",e.tt.tableStyle),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",e.frozen&&e.tt.frozenColGroupTemplate||e.tt.colGroupTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(6,M,e.columns)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",e.frozen&&e.tt.frozenFooterTemplate||e.tt.footerTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(8,M,e.columns))}}const $e=function(l,a,e){return{"pi-sort-amount-up-alt":l,"pi-sort-amount-down":a,"pi-sort-alt":e}},Se=function(l){return{"p-checkbox-focused":l}},Ze=function(l,a,e,i){return{"p-checkbox-box":!0,"p-highlight":l,"p-focus":a,"p-indeterminate":e,"p-disabled":i}},qe=function(l,a){return{"pi-check":l,"pi-minus":a}},Je=["box"],Xe=function(l,a,e){return{"p-checkbox-box":!0,"p-highlight":l,"p-focus":a,"p-disabled":e}},Ye=function(l){return{"pi pi-check":l}};function et(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function tt(l,a){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,et,1,0,"ng-container",1),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",e.inputTemplate)}}function it(l,a){1&l&&t.\u0275\u0275elementContainer(0)}function nt(l,a){if(1&l&&(t.\u0275\u0275elementContainerStart(0),t.\u0275\u0275template(1,it,1,0,"ng-container",1),t.\u0275\u0275elementContainerEnd()),2&l){const e=t.\u0275\u0275nextContext();t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",e.outputTemplate)}}let G=(()=>{class l{constructor(){this.sortSource=new S.Subject,this.selectionSource=new S.Subject,this.contextMenuSource=new S.Subject,this.uiUpdateSource=new S.Subject,this.totalRecordsSource=new S.Subject,this.sortSource$=this.sortSource.asObservable(),this.selectionSource$=this.selectionSource.asObservable(),this.contextMenuSource$=this.contextMenuSource.asObservable(),this.uiUpdateSource$=this.uiUpdateSource.asObservable(),this.totalRecordsSource$=this.totalRecordsSource.asObservable()}onSort(e){this.sortSource.next(e)}onSelectionChange(){this.selectionSource.next(null)}onContextMenu(e){this.contextMenuSource.next(e)}onUIUpdate(e){this.uiUpdateSource.next(e)}onTotalRecordsChange(e){this.totalRecordsSource.next(e)}}return l.\u0275fac=function(e){return new(e||l)},l.\u0275prov=t.\u0275\u0275defineInjectable({token:l,factory:l.\u0275fac}),l})(),B=(()=>{class l{constructor(e,i,r,s){this.el=e,this.zone=i,this.tableService=r,this.filterService=s,this.lazy=!1,this.lazyLoadOnInit=!0,this.first=0,this.pageLinks=5,this.alwaysShowPaginator=!0,this.paginatorPosition="bottom",this.currentPageReportTemplate="{currentPage} of {totalPages}",this.showFirstLastIcon=!0,this.showPageLinks=!0,this.defaultSortOrder=1,this.sortMode="single",this.resetPageOnSort=!0,this.selectionChange=new t.EventEmitter,this.contextMenuSelectionChange=new t.EventEmitter,this.contextMenuSelectionMode="separate",this.compareSelectionBy="deepEquals",this.loadingIcon="pi pi-spinner",this.showLoader=!0,this.virtualScrollDelay=150,this.virtualRowHeight=28,this.columnResizeMode="fit",this.rowTrackBy=(m,g)=>g,this.filters={},this.filterDelay=300,this.filterMode="lenient",this.onFilter=new t.EventEmitter,this.onNodeExpand=new t.EventEmitter,this.onNodeCollapse=new t.EventEmitter,this.onPage=new t.EventEmitter,this.onSort=new t.EventEmitter,this.onLazyLoad=new t.EventEmitter,this.sortFunction=new t.EventEmitter,this.onColResize=new t.EventEmitter,this.onColReorder=new t.EventEmitter,this.onNodeSelect=new t.EventEmitter,this.onNodeUnselect=new t.EventEmitter,this.onContextMenuSelect=new t.EventEmitter,this.onHeaderCheckboxToggle=new t.EventEmitter,this.onEditInit=new t.EventEmitter,this.onEditComplete=new t.EventEmitter,this.onEditCancel=new t.EventEmitter,this._value=[],this._totalRecords=0,this._sortOrder=1,this.selectionKeys={}}ngOnInit(){this.lazy&&this.lazyLoadOnInit&&this.onLazyLoad.emit(this.createLazyLoadMetadata()),this.initialized=!0}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"caption":this.captionTemplate=e.template;break;case"header":this.headerTemplate=e.template;break;case"body":this.bodyTemplate=e.template;break;case"loadingbody":this.loadingBodyTemplate=e.template;break;case"footer":this.footerTemplate=e.template;break;case"summary":this.summaryTemplate=e.template;break;case"colgroup":this.colGroupTemplate=e.template;break;case"emptymessage":this.emptyMessageTemplate=e.template;break;case"paginatorleft":this.paginatorLeftTemplate=e.template;break;case"paginatorright":this.paginatorRightTemplate=e.template;break;case"paginatordropdownitem":this.paginatorDropdownItemTemplate=e.template;break;case"frozenheader":this.frozenHeaderTemplate=e.template;break;case"frozenbody":this.frozenBodyTemplate=e.template;break;case"frozenfooter":this.frozenFooterTemplate=e.template;break;case"frozencolgroup":this.frozenColGroupTemplate=e.template}})}ngOnChanges(e){e.value&&(this._value=e.value.currentValue,this.lazy||(this.totalRecords=this._value?this._value.length:0,"single"==this.sortMode&&this.sortField?this.sortSingle():"multiple"==this.sortMode&&this.multiSortMeta?this.sortMultiple():this.hasFilter()&&this._filter()),this.updateSerializedValue(),this.tableService.onUIUpdate(this.value)),e.sortField&&(this._sortField=e.sortField.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.sortOrder&&(this._sortOrder=e.sortOrder.currentValue,(!this.lazy||this.initialized)&&"single"===this.sortMode&&this.sortSingle()),e.multiSortMeta&&(this._multiSortMeta=e.multiSortMeta.currentValue,"multiple"===this.sortMode&&this.sortMultiple()),e.selection&&(this._selection=e.selection.currentValue,this.preventSelectionSetterPropagation||(this.updateSelectionKeys(),this.tableService.onSelectionChange()),this.preventSelectionSetterPropagation=!1)}get value(){return this._value}set value(e){this._value=e}updateSerializedValue(){this.serializedValue=[],this.paginator?this.serializePageNodes():this.serializeNodes(null,this.filteredNodes||this.value,0,!0)}serializeNodes(e,i,r,s){if(i&&i.length)for(let m of i){m.parent=e;const g={node:m,parent:e,level:r,visible:s&&(!e||e.expanded)};this.serializedValue.push(g),g.visible&&m.expanded&&this.serializeNodes(m,m.children,r+1,g.visible)}}serializePageNodes(){let e=this.filteredNodes||this.value;if(this.serializedValue=[],e&&e.length){const i=this.lazy?0:this.first;for(let r=i;r<i+this.rows;r++){let s=e[r];s&&(this.serializedValue.push({node:s,parent:null,level:0,visible:!0}),this.serializeNodes(s,s.children,1,!0))}}}get totalRecords(){return this._totalRecords}set totalRecords(e){this._totalRecords=e,this.tableService.onTotalRecordsChange(this._totalRecords)}get sortField(){return this._sortField}set sortField(e){this._sortField=e}get sortOrder(){return this._sortOrder}set sortOrder(e){this._sortOrder=e}get multiSortMeta(){return this._multiSortMeta}set multiSortMeta(e){this._multiSortMeta=e}get selection(){return this._selection}set selection(e){this._selection=e}updateSelectionKeys(){if(this.dataKey&&this._selection)if(this.selectionKeys={},Array.isArray(this._selection))for(let e of this._selection)this.selectionKeys[String(D.ObjectUtils.resolveFieldData(e.data,this.dataKey))]=1;else this.selectionKeys[String(D.ObjectUtils.resolveFieldData(this._selection.data,this.dataKey))]=1}onPageChange(e){this.first=e.first,this.rows=e.rows,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.serializePageNodes(),this.onPage.emit({first:this.first,rows:this.rows}),this.tableService.onUIUpdate(this.value),this.scrollable&&this.resetScrollTop()}sort(e){let i=e.originalEvent;if("single"===this.sortMode&&(this._sortOrder=this.sortField===e.field?-1*this.sortOrder:this.defaultSortOrder,this._sortField=e.field,this.sortSingle(),this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),"multiple"===this.sortMode){let r=i.metaKey||i.ctrlKey,s=this.getSortMeta(e.field);s?r?s.order=-1*s.order:(this._multiSortMeta=[{field:e.field,order:-1*s.order}],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()):((!r||!this.multiSortMeta)&&(this._multiSortMeta=[],this.resetPageOnSort&&this.scrollable&&this.resetScrollTop()),this.multiSortMeta.push({field:e.field,order:this.defaultSortOrder})),this.sortMultiple()}}sortSingle(){if(this.sortField&&this.sortOrder){this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortNodes(this.value),this.hasFilter()&&this._filter());let e={field:this.sortField,order:this.sortOrder};this.onSort.emit(e),this.tableService.onSort(e),this.updateSerializedValue()}}sortNodes(e){if(e&&0!==e.length){this.customSort?this.sortFunction.emit({data:e,mode:this.sortMode,field:this.sortField,order:this.sortOrder}):e.sort((i,r)=>{let s=D.ObjectUtils.resolveFieldData(i.data,this.sortField),m=D.ObjectUtils.resolveFieldData(r.data,this.sortField),g=null;return g=null==s&&null!=m?-1:null!=s&&null==m?1:null==s&&null==m?0:"string"==typeof s&&"string"==typeof m?s.localeCompare(m,void 0,{numeric:!0}):s<m?-1:s>m?1:0,this.sortOrder*g});for(let i of e)this.sortNodes(i.children)}}sortMultiple(){this.multiSortMeta&&(this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.value&&(this.sortMultipleNodes(this.value),this.hasFilter()&&this._filter()),this.onSort.emit({multisortmeta:this.multiSortMeta}),this.updateSerializedValue(),this.tableService.onSort(this.multiSortMeta))}sortMultipleNodes(e){if(e&&0!==e.length){this.customSort?this.sortFunction.emit({data:this.value,mode:this.sortMode,multiSortMeta:this.multiSortMeta}):e.sort((i,r)=>this.multisortField(i,r,this.multiSortMeta,0));for(let i of e)this.sortMultipleNodes(i.children)}}multisortField(e,i,r,s){let m=D.ObjectUtils.resolveFieldData(e.data,r[s].field),g=D.ObjectUtils.resolveFieldData(i.data,r[s].field),b=null;if(null==m&&null!=g?b=-1:null!=m&&null==g?b=1:null==m&&null==g&&(b=0),"string"==typeof m||m instanceof String){if(m.localeCompare&&m!=g)return r[s].order*m.localeCompare(g,void 0,{numeric:!0})}else b=m<g?-1:1;return m==g?r.length-1>s?this.multisortField(e,i,r,s+1):0:r[s].order*b}getSortMeta(e){if(this.multiSortMeta&&this.multiSortMeta.length)for(let i=0;i<this.multiSortMeta.length;i++)if(this.multiSortMeta[i].field===e)return this.multiSortMeta[i];return null}isSorted(e){if("single"===this.sortMode)return this.sortField&&this.sortField===e;if("multiple"===this.sortMode){let i=!1;if(this.multiSortMeta)for(let r=0;r<this.multiSortMeta.length;r++)if(this.multiSortMeta[r].field==e){i=!0;break}return i}}createLazyLoadMetadata(){return{first:this.first,rows:this.rows,sortField:this.sortField,sortOrder:this.sortOrder,filters:this.filters,globalFilter:this.filters&&this.filters.global?this.filters.global.value:null,multiSortMeta:this.multiSortMeta}}resetScrollTop(){this.virtualScroll?this.scrollToVirtualIndex(0):this.scrollTo({top:0})}scrollToVirtualIndex(e){this.scrollableViewChild&&this.scrollableViewChild.scrollToVirtualIndex(e),this.scrollableFrozenViewChild&&this.scrollableFrozenViewChild.scrollToVirtualIndex(e)}scrollTo(e){this.scrollableViewChild&&this.scrollableViewChild.scrollTo(e),this.scrollableFrozenViewChild&&this.scrollableFrozenViewChild.scrollTo(e)}isEmpty(){let e=this.filteredNodes||this.value;return null==e||0==e.length}getBlockableElement(){return this.el.nativeElement.children[0]}onColumnResizeBegin(e){let i=f.DomHandler.getOffset(this.containerViewChild.nativeElement).left;this.lastResizerHelperX=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft,e.preventDefault()}onColumnResize(e){let i=f.DomHandler.getOffset(this.containerViewChild.nativeElement).left;f.DomHandler.addClass(this.containerViewChild.nativeElement,"p-unselectable-text"),this.resizeHelperViewChild.nativeElement.style.height=this.containerViewChild.nativeElement.offsetHeight+"px",this.resizeHelperViewChild.nativeElement.style.top="0px",this.resizeHelperViewChild.nativeElement.style.left=e.pageX-i+this.containerViewChild.nativeElement.scrollLeft+"px",this.resizeHelperViewChild.nativeElement.style.display="block"}onColumnResizeEnd(e,i){let r=this.resizeHelperViewChild.nativeElement.offsetLeft-this.lastResizerHelperX,s=i.offsetWidth,m=s+r;if(s+r>parseInt(i.style.minWidth||15)){if("fit"===this.columnResizeMode){let b=i.nextElementSibling;for(;!b.offsetParent;)b=b.nextElementSibling;if(b){let z=b.offsetWidth-r,I=b.style.minWidth||15;if(m>15&&z>parseInt(I))if(this.scrollable){let j=this.findParentScrollableView(i),F=f.DomHandler.findSingle(j,".p-treetable-scrollable-body table")||f.DomHandler.findSingle(j,".p-treetable-virtual-scrollable-body table"),N=f.DomHandler.findSingle(j,"table.p-treetable-scrollable-header-table"),A=f.DomHandler.findSingle(j,"table.p-treetable-scrollable-footer-table"),U=f.DomHandler.index(i);this.resizeColGroup(N,U,m,z),this.resizeColGroup(F,U,m,z),this.resizeColGroup(A,U,m,z)}else i.style.width=m+"px",b&&(b.style.width=z+"px")}}else if("expand"===this.columnResizeMode)if(this.scrollable){let b=this.findParentScrollableView(i),z=f.DomHandler.findSingle(b,".p-treetable-scrollable-body")||f.DomHandler.findSingle(b,"cdk-virtual-scroll-viewport"),I=f.DomHandler.findSingle(b,".p-treetable-scrollable-header"),j=f.DomHandler.findSingle(b,".p-treetable-scrollable-footer"),F=f.DomHandler.findSingle(b,".p-treetable-scrollable-body table")||f.DomHandler.findSingle(b,"cdk-virtual-scroll-viewport table"),N=f.DomHandler.findSingle(b,"table.p-treetable-scrollable-header-table"),A=f.DomHandler.findSingle(b,"table.p-treetable-scrollable-footer-table");F.style.width=F.offsetWidth+r+"px",N.style.width=N.offsetWidth+r+"px",A&&(A.style.width=A.offsetWidth+r+"px");let U=f.DomHandler.index(i);const J=i?F.offsetWidth+r:m,ce=i?N.offsetWidth+r:m,ve=this.containerViewChild.nativeElement.offsetWidth>=J;let _e=(Ee,De,xe,bt)=>{Ee&&De&&(Ee.style.width=bt?xe+f.DomHandler.calculateScrollbarWidth(z)+"px":"auto",De.style.width=xe+"px")};_e(z,F,J,ve),_e(I,N,ce,ve),_e(j,A,ce,ve),this.resizeColGroup(N,U,m,null),this.resizeColGroup(F,U,m,null),this.resizeColGroup(A,U,m,null)}else this.tableViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.offsetWidth+r+"px",i.style.width=m+"px",this.containerViewChild.nativeElement.style.width=this.tableViewChild.nativeElement.style.width+"px";this.onColResize.emit({element:i,delta:r})}this.resizeHelperViewChild.nativeElement.style.display="none",f.DomHandler.removeClass(this.containerViewChild.nativeElement,"p-unselectable-text")}findParentScrollableView(e){if(e){let i=e.parentElement;for(;i&&!f.DomHandler.hasClass(i,"p-treetable-scrollable-view");)i=i.parentElement;return i}return null}resizeColGroup(e,i,r,s){if(e){let m="COLGROUP"===e.children[0].nodeName?e.children[0]:null;if(!m)throw"Scrollable tables require a colgroup to support resizable columns";{let g=m.children[i],b=g.nextElementSibling;g.style.width=r+"px",b&&s&&(b.style.width=s+"px")}}}onColumnDragStart(e,i){this.reorderIconWidth=f.DomHandler.getHiddenElementOuterWidth(this.reorderIndicatorUpViewChild.nativeElement),this.reorderIconHeight=f.DomHandler.getHiddenElementOuterHeight(this.reorderIndicatorDownViewChild.nativeElement),this.draggedColumn=i,e.dataTransfer.setData("text","b")}onColumnDragEnter(e,i){if(this.reorderableColumns&&this.draggedColumn&&i){e.preventDefault();let r=f.DomHandler.getOffset(this.containerViewChild.nativeElement),s=f.DomHandler.getOffset(i);if(this.draggedColumn!=i){let m=s.left-r.left,b=s.left+i.offsetWidth/2;this.reorderIndicatorUpViewChild.nativeElement.style.top=s.top-r.top-(this.reorderIconHeight-1)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.top=s.top-r.top+i.offsetHeight+"px",e.pageX>b?(this.reorderIndicatorUpViewChild.nativeElement.style.left=m+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=m+i.offsetWidth-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=1):(this.reorderIndicatorUpViewChild.nativeElement.style.left=m-Math.ceil(this.reorderIconWidth/2)+"px",this.reorderIndicatorDownViewChild.nativeElement.style.left=m-Math.ceil(this.reorderIconWidth/2)+"px",this.dropPosition=-1),this.reorderIndicatorUpViewChild.nativeElement.style.display="block",this.reorderIndicatorDownViewChild.nativeElement.style.display="block"}else e.dataTransfer.dropEffect="none"}}onColumnDragLeave(e){this.reorderableColumns&&this.draggedColumn&&(e.preventDefault(),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none")}onColumnDrop(e,i){if(e.preventDefault(),this.draggedColumn){let r=f.DomHandler.indexWithinGroup(this.draggedColumn,"ttreorderablecolumn"),s=f.DomHandler.indexWithinGroup(i,"ttreorderablecolumn"),m=r!=s;m&&(s-r==1&&-1===this.dropPosition||r-s==1&&1===this.dropPosition)&&(m=!1),m&&s<r&&1===this.dropPosition&&(s+=1),m&&s>r&&-1===this.dropPosition&&(s-=1),m&&(D.ObjectUtils.reorderArray(this.columns,r,s),this.onColReorder.emit({dragIndex:r,dropIndex:s,columns:this.columns})),this.reorderIndicatorUpViewChild.nativeElement.style.display="none",this.reorderIndicatorDownViewChild.nativeElement.style.display="none",this.draggedColumn.draggable=!1,this.draggedColumn=null,this.dropPosition=null}}handleRowClick(e){let i=e.originalEvent.target.nodeName;if("INPUT"!=i&&"BUTTON"!=i&&"A"!=i&&!f.DomHandler.hasClass(e.originalEvent.target,"p-clickable")){if(this.selectionMode){this.preventSelectionSetterPropagation=!0;let r=e.rowNode,s=this.isSelected(r.node),m=!this.rowTouched&&this.metaKeySelection,g=this.dataKey?String(D.ObjectUtils.resolveFieldData(r.node.data,this.dataKey)):null;if(m){let b=e.originalEvent.metaKey||e.originalEvent.ctrlKey;if(s&&b){if(this.isSingleSelectionMode())this._selection=null,this.selectionKeys={},this.selectionChange.emit(null);else{let z=this.findIndexInSelection(r.node);this._selection=this.selection.filter((I,j)=>j!=z),this.selectionChange.emit(this.selection),g&&delete this.selectionKeys[g]}this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:r.node,type:"row"})}else this.isSingleSelectionMode()?(this._selection=r.node,this.selectionChange.emit(r.node),g&&(this.selectionKeys={},this.selectionKeys[g]=1)):this.isMultipleSelectionMode()&&(b?this._selection=this.selection||[]:(this._selection=[],this.selectionKeys={}),this._selection=[...this.selection,r.node],this.selectionChange.emit(this.selection),g&&(this.selectionKeys[g]=1)),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:r.node,type:"row",index:e.rowIndex})}else if("single"===this.selectionMode)s?(this._selection=null,this.selectionKeys={},this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:r.node,type:"row"})):(this._selection=r.node,this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:r.node,type:"row",index:e.rowIndex}),g&&(this.selectionKeys={},this.selectionKeys[g]=1));else if("multiple"===this.selectionMode)if(s){let b=this.findIndexInSelection(r.node);this._selection=this.selection.filter((z,I)=>I!=b),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e.originalEvent,node:r.node,type:"row"}),g&&delete this.selectionKeys[g]}else this._selection=this.selection?[...this.selection,r.node]:[r.node],this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e.originalEvent,node:r.node,type:"row",index:e.rowIndex}),g&&(this.selectionKeys[g]=1);this.tableService.onSelectionChange()}this.rowTouched=!1}}handleRowTouchEnd(e){this.rowTouched=!0}handleRowRightClick(e){if(this.contextMenu){const i=e.rowNode.node;if("separate"===this.contextMenuSelectionMode)this.contextMenuSelection=i,this.contextMenuSelectionChange.emit(i),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:i}),this.contextMenu.show(e.originalEvent),this.tableService.onContextMenu(i);else if("joint"===this.contextMenuSelectionMode){this.preventSelectionSetterPropagation=!0;let r=this.isSelected(i),s=this.dataKey?String(D.ObjectUtils.resolveFieldData(i.data,this.dataKey)):null;r||(this.isSingleSelectionMode()?(this.selection=i,this.selectionChange.emit(i)):this.isMultipleSelectionMode()&&(this.selection=[i],this.selectionChange.emit(this.selection)),s&&(this.selectionKeys[s]=1)),this.contextMenu.show(e.originalEvent),this.onContextMenuSelect.emit({originalEvent:e.originalEvent,node:i})}}}toggleNodeWithCheckbox(e){this.selection=this.selection||[],this.preventSelectionSetterPropagation=!0;let i=e.rowNode.node;this.isSelected(i)?(this.propagateSelectionDown(i,!1),e.rowNode.parent&&this.propagateSelectionUp(i.parent,!1),this.selectionChange.emit(this.selection),this.onNodeUnselect.emit({originalEvent:e,node:i})):(this.propagateSelectionDown(i,!0),e.rowNode.parent&&this.propagateSelectionUp(i.parent,!0),this.selectionChange.emit(this.selection),this.onNodeSelect.emit({originalEvent:e,node:i})),this.tableService.onSelectionChange()}toggleNodesWithCheckbox(e,i){let r=this.filteredNodes||this.value;if(this._selection=i&&r?r.slice():[],i){if(r&&r.length)for(let s of r)this.propagateSelectionDown(s,!0)}else this._selection=[],this.selectionKeys={};this.preventSelectionSetterPropagation=!0,this.selectionChange.emit(this._selection),this.tableService.onSelectionChange(),this.onHeaderCheckboxToggle.emit({originalEvent:e,checked:i})}propagateSelectionUp(e,i){if(e.children&&e.children.length){let s=0,m=!1,g=this.dataKey?String(D.ObjectUtils.resolveFieldData(e.data,this.dataKey)):null;for(let b of e.children)this.isSelected(b)?s++:b.partialSelected&&(m=!0);if(i&&s==e.children.length)this._selection=[...this.selection||[],e],e.partialSelected=!1,g&&(this.selectionKeys[g]=1);else{if(!i){let b=this.findIndexInSelection(e);b>=0&&(this._selection=this.selection.filter((z,I)=>I!=b),g&&delete this.selectionKeys[g])}e.partialSelected=!!(m||s>0&&s!=e.children.length)}}let r=e.parent;r&&this.propagateSelectionUp(r,i)}propagateSelectionDown(e,i){let r=this.findIndexInSelection(e),s=this.dataKey?String(D.ObjectUtils.resolveFieldData(e.data,this.dataKey)):null;if(i&&-1==r?(this._selection=[...this.selection||[],e],s&&(this.selectionKeys[s]=1)):!i&&r>-1&&(this._selection=this.selection.filter((m,g)=>g!=r),s&&delete this.selectionKeys[s]),e.partialSelected=!1,e.children&&e.children.length)for(let m of e.children)this.propagateSelectionDown(m,i)}isSelected(e){return!(!e||!this.selection)&&(this.dataKey?void 0!==this.selectionKeys[D.ObjectUtils.resolveFieldData(e.data,this.dataKey)]:this.selection instanceof Array?this.findIndexInSelection(e)>-1:this.equals(e,this.selection))}findIndexInSelection(e){let i=-1;if(this.selection&&this.selection.length)for(let r=0;r<this.selection.length;r++)if(this.equals(e,this.selection[r])){i=r;break}return i}isSingleSelectionMode(){return"single"===this.selectionMode}isMultipleSelectionMode(){return"multiple"===this.selectionMode}equals(e,i){return"equals"===this.compareSelectionBy?e===i:D.ObjectUtils.equals(e.data,i.data,this.dataKey)}filter(e,i,r){this.filterTimeout&&clearTimeout(this.filterTimeout),this.isFilterBlank(e)?this.filters[i]&&delete this.filters[i]:this.filters[i]={value:e,matchMode:r},this.filterTimeout=setTimeout(()=>{this._filter(),this.filterTimeout=null},this.filterDelay)}filterGlobal(e,i){this.filter(e,"global",i)}isFilterBlank(e){return null==e||"string"==typeof e&&0==e.trim().length||e instanceof Array&&0==e.length}_filter(){if(this.lazy)this.onLazyLoad.emit(this.createLazyLoadMetadata());else{if(!this.value)return;if(this.hasFilter()){let i;if(this.filters.global){if(!this.columns&&!this.globalFilterFields)throw new Error("Global filtering requires dynamic columns or globalFilterFields to be defined.");i=this.globalFilterFields||this.columns}this.filteredNodes=[];const r="strict"===this.filterMode;let s=!1;for(let m of this.value){let I,g={...m},b=!0,z=!1;for(let F in this.filters)if(this.filters.hasOwnProperty(F)&&"global"!==F){let N=this.filters[F];if(I={filterField:F,filterValue:N.value,filterConstraint:this.filterService.filters[N.matchMode||"startsWith"],isStrictMode:r},(r&&!(this.findFilteredNodes(g,I)||this.isFilterMatched(g,I))||!r&&!(this.isFilterMatched(g,I)||this.findFilteredNodes(g,I)))&&(b=!1),!b)break}if(this.filters.global&&!z&&i)for(let F=0;F<i.length;F++){let N={...g};I={filterField:i[F].field||i[F],filterValue:this.filters.global.value,filterConstraint:this.filterService.filters[this.filters.global.matchMode],isStrictMode:r},(r&&(this.findFilteredNodes(N,I)||this.isFilterMatched(N,I))||!r&&(this.isFilterMatched(N,I)||this.findFilteredNodes(N,I)))&&(z=!0,g=N)}let j=b;this.filters.global&&(j=b&&z),j&&this.filteredNodes.push(g),s=s||!b||z||b&&this.filteredNodes.length>0||!z&&0===this.filteredNodes.length}s||(this.filteredNodes=null),this.paginator&&(this.totalRecords=this.filteredNodes?this.filteredNodes.length:this.value?this.value.length:0)}else this.filteredNodes=null,this.paginator&&(this.totalRecords=this.value?this.value.length:0)}this.first=0;const e=this.filteredNodes||this.value;this.onFilter.emit({filters:this.filters,filteredValue:e}),this.tableService.onUIUpdate(e),this.updateSerializedValue(),this.scrollable&&this.resetScrollTop()}findFilteredNodes(e,i){if(e){let r=!1;if(e.children){let s=[...e.children];e.children=[];for(let m of s){let g={...m};this.isFilterMatched(g,i)&&(r=!0,e.children.push(g))}}if(r)return!0}}isFilterMatched(e,{filterField:i,filterValue:r,filterConstraint:s,isStrictMode:m}){let g=!1;return s(D.ObjectUtils.resolveFieldData(e.data,i),r,this.filterLocale)&&(g=!0),(!g||m&&!this.isNodeLeaf(e))&&(g=this.findFilteredNodes(e,{filterField:i,filterValue:r,filterConstraint:s,isStrictMode:m})||g),g}isNodeLeaf(e){return!1!==e.leaf&&!(e.children&&e.children.length)}hasFilter(){let e=!0;for(let i in this.filters)if(this.filters.hasOwnProperty(i)){e=!1;break}return!e}reset(){this._sortField=null,this._sortOrder=1,this._multiSortMeta=null,this.tableService.onSort(null),this.filteredNodes=null,this.filters={},this.first=0,this.lazy?this.onLazyLoad.emit(this.createLazyLoadMetadata()):this.totalRecords=this._value?this._value.length:0}updateEditingCell(e,i,r){this.editingCell=e,this.editingCellData=i,this.editingCellField=r,this.bindDocumentEditListener()}isEditingCellValid(){return this.editingCell&&0===f.DomHandler.find(this.editingCell,".ng-invalid.ng-dirty").length}bindDocumentEditListener(){this.documentEditListener||(this.documentEditListener=e=>{this.editingCell&&!this.editingCellClick&&this.isEditingCellValid()&&(f.DomHandler.removeClass(this.editingCell,"p-cell-editing"),this.editingCell=null,this.onEditComplete.emit({field:this.editingCellField,data:this.editingCellData}),this.editingCellField=null,this.editingCellData=null,this.unbindDocumentEditListener()),this.editingCellClick=!1},document.addEventListener("click",this.documentEditListener))}unbindDocumentEditListener(){this.documentEditListener&&(document.removeEventListener("click",this.documentEditListener),this.documentEditListener=null)}ngOnDestroy(){this.unbindDocumentEditListener(),this.editingCell=null,this.editingCellField=null,this.editingCellData=null,this.initialized=null}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone),t.\u0275\u0275directiveInject(G),t.\u0275\u0275directiveInject(L.FilterService))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["p-treeTable"]],contentQueries:function(e,i,r){if(1&e&&t.\u0275\u0275contentQuery(r,L.PrimeTemplate,4),2&e){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(i.templates=s)}},viewQuery:function(e,i){if(1&e&&(t.\u0275\u0275viewQuery(x,5),t.\u0275\u0275viewQuery(O,5),t.\u0275\u0275viewQuery(R,5),t.\u0275\u0275viewQuery(P,5),t.\u0275\u0275viewQuery(K,5),t.\u0275\u0275viewQuery(le,5),t.\u0275\u0275viewQuery($,5)),2&e){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.containerViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.resizeHelperViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.reorderIndicatorUpViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.reorderIndicatorDownViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.tableViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.scrollableViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.scrollableFrozenViewChild=r.first)}},hostAttrs:[1,"p-element"],inputs:{columns:"columns",style:"style",styleClass:"styleClass",tableStyle:"tableStyle",tableStyleClass:"tableStyleClass",autoLayout:"autoLayout",lazy:"lazy",lazyLoadOnInit:"lazyLoadOnInit",paginator:"paginator",rows:"rows",first:"first",pageLinks:"pageLinks",rowsPerPageOptions:"rowsPerPageOptions",alwaysShowPaginator:"alwaysShowPaginator",paginatorPosition:"paginatorPosition",paginatorDropdownAppendTo:"paginatorDropdownAppendTo",currentPageReportTemplate:"currentPageReportTemplate",showCurrentPageReport:"showCurrentPageReport",showJumpToPageDropdown:"showJumpToPageDropdown",showFirstLastIcon:"showFirstLastIcon",showPageLinks:"showPageLinks",defaultSortOrder:"defaultSortOrder",sortMode:"sortMode",resetPageOnSort:"resetPageOnSort",customSort:"customSort",selectionMode:"selectionMode",contextMenuSelection:"contextMenuSelection",contextMenuSelectionMode:"contextMenuSelectionMode",dataKey:"dataKey",metaKeySelection:"metaKeySelection",compareSelectionBy:"compareSelectionBy",rowHover:"rowHover",loading:"loading",loadingIcon:"loadingIcon",showLoader:"showLoader",scrollable:"scrollable",scrollHeight:"scrollHeight",virtualScroll:"virtualScroll",virtualScrollDelay:"virtualScrollDelay",virtualRowHeight:"virtualRowHeight",minBufferPx:"minBufferPx",maxBufferPx:"maxBufferPx",frozenWidth:"frozenWidth",frozenColumns:"frozenColumns",resizableColumns:"resizableColumns",columnResizeMode:"columnResizeMode",reorderableColumns:"reorderableColumns",contextMenu:"contextMenu",rowTrackBy:"rowTrackBy",filters:"filters",globalFilterFields:"globalFilterFields",filterDelay:"filterDelay",filterMode:"filterMode",filterLocale:"filterLocale",value:"value",totalRecords:"totalRecords",sortField:"sortField",sortOrder:"sortOrder",multiSortMeta:"multiSortMeta",selection:"selection"},outputs:{selectionChange:"selectionChange",contextMenuSelectionChange:"contextMenuSelectionChange",onFilter:"onFilter",onNodeExpand:"onNodeExpand",onNodeCollapse:"onNodeCollapse",onPage:"onPage",onSort:"onSort",onLazyLoad:"onLazyLoad",sortFunction:"sortFunction",onColResize:"onColResize",onColReorder:"onColReorder",onNodeSelect:"onNodeSelect",onNodeUnselect:"onNodeUnselect",onContextMenuSelect:"onContextMenuSelect",onHeaderCheckboxToggle:"onHeaderCheckboxToggle",onEditInit:"onEditInit",onEditComplete:"onEditComplete",onEditCancel:"onEditCancel"},features:[t.\u0275\u0275ProvidersFeature([G]),t.\u0275\u0275NgOnChangesFeature],decls:12,vars:20,consts:[["data-scrollselectors",".p-treetable-scrollable-body",3,"ngStyle","ngClass"],["container",""],["class","p-treetable-loading",4,"ngIf"],["class","p-treetable-header",4,"ngIf"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-treetable-wrapper",4,"ngIf"],["class","p-treetable-scrollable-wrapper",4,"ngIf"],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange",4,"ngIf"],["class","p-treetable-footer",4,"ngIf"],["class","p-column-resizer-helper","style","display:none",4,"ngIf"],["class","pi pi-arrow-down p-treetable-reorder-indicator-up",4,"ngIf"],["class","pi pi-arrow-up p-treetable-reorder-indicator-down",4,"ngIf"],[1,"p-treetable-loading"],[1,"p-treetable-loading-overlay","p-component-overlay"],[1,"p-treetable-header"],[4,"ngTemplateOutlet"],["styleClass","p-paginator-top",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-treetable-wrapper"],[3,"ngClass","ngStyle"],["table",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-treetable-thead"],[1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate"],[1,"p-treetable-tfoot"],[1,"p-treetable-scrollable-wrapper"],["class","p-treetable-scrollable-view p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight",4,"ngIf"],[1,"p-treetable-scrollable-view",3,"ttScrollableView","frozen","scrollHeight","ngStyle"],["scrollableView",""],[1,"p-treetable-scrollable-view","p-treetable-frozen-view",3,"ttScrollableView","frozen","ngStyle","scrollHeight"],["scrollableFrozenView",""],["styleClass","p-paginator-bottom",3,"rows","first","totalRecords","pageLinkSize","alwaysShow","rowsPerPageOptions","templateLeft","templateRight","dropdownAppendTo","currentPageReportTemplate","showFirstLastIcon","dropdownItemTemplate","showCurrentPageReport","showJumpToPageDropdown","showPageLinks","onPageChange"],[1,"p-treetable-footer"],[1,"p-column-resizer-helper",2,"display","none"],["resizeHelper",""],[1,"pi","pi-arrow-down","p-treetable-reorder-indicator-up"],["reorderIndicatorUp",""],[1,"pi","pi-arrow-up","p-treetable-reorder-indicator-down"],["reorderIndicatorDown",""]],template:function(e,i){1&e&&(t.\u0275\u0275elementStart(0,"div",0,1),t.\u0275\u0275template(2,X,3,2,"div",2),t.\u0275\u0275template(3,ee,2,1,"div",3),t.\u0275\u0275template(4,te,1,15,"p-paginator",4),t.\u0275\u0275template(5,q,9,16,"div",5),t.\u0275\u0275template(6,ue,4,8,"div",6),t.\u0275\u0275template(7,pe,1,15,"p-paginator",7),t.\u0275\u0275template(8,ae,2,1,"div",8),t.\u0275\u0275template(9,de,2,0,"div",9),t.\u0275\u0275template(10,me,2,0,"span",10),t.\u0275\u0275template(11,we,2,0,"span",11),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275classMap(i.styleClass),t.\u0275\u0275property("ngStyle",i.style)("ngClass",t.\u0275\u0275pureFunction5(14,Ce,i.rowHover||"single"===i.selectionMode||"multiple"===i.selectionMode,i.autoLayout,i.resizableColumns,i.resizableColumns&&"fit"===i.columnResizeMode,i.scrollable&&"flex"===i.scrollHeight)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngIf",i.loading&&i.showLoader),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.captionTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.paginator&&("top"===i.paginatorPosition||"both"==i.paginatorPosition)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.scrollable),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.scrollable),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.paginator&&("bottom"===i.paginatorPosition||"both"==i.paginatorPosition)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.summaryTemplate),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.resizableColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.reorderableColumns),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.reorderableColumns))},dependencies:function(){return[V.Paginator,be,ye,c.NgStyle,c.NgClass,c.NgIf,c.NgTemplateOutlet]},styles:[".p-treetable{position:relative}.p-treetable table{border-collapse:collapse;width:100%;table-layout:fixed}.p-treetable .p-sortable-column{cursor:pointer;-webkit-user-select:none;user-select:none}.p-treetable .p-sortable-column .p-column-title,.p-treetable .p-sortable-column .p-sortable-column-icon,.p-treetable .p-sortable-column .p-sortable-column-badge{vertical-align:middle}.p-treetable .p-sortable-column .p-sortable-column-badge{display:inline-flex;align-items:center;justify-content:center}.p-treetable-auto-layout>.p-treetable-wrapper{overflow-x:auto}.p-treetable-auto-layout>.p-treetable-wrapper>table{table-layout:auto}.p-treetable-hoverable-rows .p-treetable-tbody>tr{cursor:pointer}.p-treetable-toggler{cursor:pointer;-webkit-user-select:none;user-select:none;display:inline-flex;align-items:center;justify-content:center;vertical-align:middle;overflow:hidden;position:relative}p-treetabletoggler+p-treetablecheckbox .p-checkbox{vertical-align:middle}p-treetabletoggler+p-treetablecheckbox+span{vertical-align:middle}.p-treetable-scrollable-wrapper{position:relative}.p-treetable-scrollable-header,.p-treetable-scrollable-footer{overflow:hidden}.p-treetable-scrollable-body{overflow:auto;position:relative}.p-treetable-scrollable-body>table>.p-treetable-tbody>tr:first-child>td{border-top:0 none}.p-treetable-virtual-table{position:absolute}.p-treetable-frozen-view .p-treetable-scrollable-body{overflow:hidden}.p-treetable-frozen-view>.p-treetable-scrollable-body>table>.p-treetable-tbody>tr>td:last-child{border-right:0 none}.p-treetable-unfrozen-view{position:absolute;top:0}.p-treetable-flex-scrollable,.p-treetable-flex-scrollable .p-treetable-scrollable-wrapper,.p-treetable-flex-scrollable .p-treetable-scrollable-view{display:flex;flex-direction:column;flex:1;height:100%}.p-treetable-flex-scrollable .p-treetable-virtual-scrollable-body{flex:1}.p-treetable-resizable>.p-treetable-wrapper{overflow-x:auto}.p-treetable-resizable .p-treetable-thead>tr>th,.p-treetable-resizable .p-treetable-tfoot>tr>td,.p-treetable-resizable .p-treetable-tbody>tr>td{overflow:hidden}.p-treetable-resizable .p-resizable-column{background-clip:padding-box;position:relative}.p-treetable-resizable-fit .p-resizable-column:last-child .p-column-resizer{display:none}.p-treetable .p-column-resizer{display:block;position:absolute!important;top:0;right:0;margin:0;width:.5rem;height:100%;padding:0;cursor:col-resize;border:1px solid transparent}.p-treetable .p-column-resizer-helper{width:1px;position:absolute;z-index:10;display:none}.p-treetable .p-row-editor-init,.p-treetable .p-row-editor-save,.p-treetable .p-row-editor-cancel,.p-treetable .p-row-toggler{display:inline-flex;align-items:center;justify-content:center;overflow:hidden;position:relative}.p-treetable-reorder-indicator-up,.p-treetable-reorder-indicator-down{position:absolute;display:none}[ttReorderableColumn]{cursor:move}.p-treetable .p-treetable-loading-overlay{position:absolute;display:flex;align-items:center;justify-content:center;z-index:2}\n"],encapsulation:2}),l})(),be=(()=>{class l{constructor(e,i,r){this.tt=e,this.treeTableService=i,this.cd=r,this.subscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.tt.virtualScroll&&this.cd.detectChanges()})}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(G),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["","pTreeTableBody",""]],hostAttrs:[1,"p-element"],inputs:{columns:["pTreeTableBody","columns"],template:["pTreeTableBodyTemplate","template"],frozen:"frozen"},attrs:ie,decls:3,vars:3,consts:[[4,"ngIf"],["ngFor","",3,"ngForOf","ngForTrackBy"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["cdkVirtualFor","",3,"cdkVirtualForOf","cdkVirtualForTrackBy","cdkVirtualForTemplateCacheSize"]],template:function(e,i){1&e&&(t.\u0275\u0275template(0,o,2,2,"ng-container",0),t.\u0275\u0275template(1,E,2,3,"ng-container",0),t.\u0275\u0275template(2,H,2,5,"ng-container",0)),2&e&&(t.\u0275\u0275property("ngIf",!i.tt.virtualScroll),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.tt.virtualScroll),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",i.tt.isEmpty()))},dependencies:[c.NgIf,c.NgForOf,c.NgTemplateOutlet,w.x0],encapsulation:2}),l})(),ye=(()=>{class l{constructor(e,i,r){this.tt=e,this.el=i,this.zone=r}get scrollHeight(){return this._scrollHeight}set scrollHeight(e){this._scrollHeight=e,null!=e&&(e.includes("%")||e.includes("calc"))&&console.log('Percentage scroll height calculation is removed in favor of the more performant CSS based flex mode, use scrollHeight="flex" instead.'),this.tt.virtualScroll&&this.virtualScrollBody&&this.virtualScrollBody.ngOnInit()}ngAfterViewInit(){if(this.frozen)this.scrollableAlignerViewChild&&this.scrollableAlignerViewChild.nativeElement&&(this.scrollableAlignerViewChild.nativeElement.style.height=f.DomHandler.calculateScrollbarHeight()+"px");else{(this.tt.frozenColumns||this.tt.frozenBodyTemplate)&&f.DomHandler.addClass(this.el.nativeElement,"p-treetable-unfrozen-view");let e=this.el.nativeElement.previousElementSibling;e&&(this.frozenSiblingBody=f.DomHandler.findSingle(e,this.tt.virtualScroll?".p-treetable-virtual-scrollable-body":".p-treetable-scrollable-body"));let i=f.DomHandler.calculateScrollbarWidth();this.scrollHeaderBoxViewChild.nativeElement.style.paddingRight=i+"px",this.scrollFooterBoxViewChild&&this.scrollFooterBoxViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.paddingRight=i+"px")}this.bindEvents()}bindEvents(){this.zone.runOutsideAngular(()=>{this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.headerScrollListener=this.onHeaderScroll.bind(this),this.scrollHeaderBoxViewChild.nativeElement.addEventListener("scroll",this.headerScrollListener)),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.footerScrollListener=this.onFooterScroll.bind(this),this.scrollFooterViewChild.nativeElement.addEventListener("scroll",this.footerScrollListener)),this.frozen||(this.bodyScrollListener=this.onBodyScroll.bind(this),this.tt.virtualScroll?this.virtualScrollBody.getElementRef().nativeElement.addEventListener("scroll",this.bodyScrollListener):this.scrollBodyViewChild.nativeElement.addEventListener("scroll",this.bodyScrollListener))})}unbindEvents(){this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&this.scrollHeaderBoxViewChild.nativeElement.removeEventListener("scroll",this.headerScrollListener),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&this.scrollFooterViewChild.nativeElement.removeEventListener("scroll",this.footerScrollListener),this.scrollBodyViewChild&&this.scrollBodyViewChild.nativeElement&&this.scrollBodyViewChild.nativeElement.removeEventListener("scroll",this.bodyScrollListener),this.virtualScrollBody&&this.virtualScrollBody.getElementRef()&&this.virtualScrollBody.getElementRef().nativeElement.removeEventListener("scroll",this.bodyScrollListener)}onHeaderScroll(){const e=this.scrollHeaderViewChild.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onFooterScroll(){const e=this.scrollFooterViewChild.nativeElement.scrollLeft;this.scrollBodyViewChild.nativeElement.scrollLeft=e,this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderViewChild.nativeElement.scrollLeft=e),this.preventBodyScrollPropagation=!0}onBodyScroll(e){this.preventBodyScrollPropagation?this.preventBodyScrollPropagation=!1:(this.scrollHeaderViewChild&&this.scrollHeaderViewChild.nativeElement&&(this.scrollHeaderBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.scrollFooterViewChild&&this.scrollFooterViewChild.nativeElement&&(this.scrollFooterBoxViewChild.nativeElement.style.marginLeft=-1*e.target.scrollLeft+"px"),this.frozenSiblingBody&&(this.frozenSiblingBody.scrollTop=e.target.scrollTop))}scrollToVirtualIndex(e){this.virtualScrollBody&&this.virtualScrollBody.scrollToIndex(e)}scrollTo(e){this.virtualScrollBody?this.virtualScrollBody.scrollTo(e):this.scrollBodyViewChild.nativeElement.scrollTo?this.scrollBodyViewChild.nativeElement.scrollTo(e):(this.scrollBodyViewChild.nativeElement.scrollLeft=e.left,this.scrollBodyViewChild.nativeElement.scrollTop=e.top)}ngOnDestroy(){this.unbindEvents(),this.frozenSiblingBody=null}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["","ttScrollableView",""]],viewQuery:function(e,i){if(1&e&&(t.\u0275\u0275viewQuery(Q,5),t.\u0275\u0275viewQuery(Re,5),t.\u0275\u0275viewQuery(ke,5),t.\u0275\u0275viewQuery(Me,5),t.\u0275\u0275viewQuery(Ie,5),t.\u0275\u0275viewQuery(ze,5),t.\u0275\u0275viewQuery(Ve,5),t.\u0275\u0275viewQuery(Le,5),t.\u0275\u0275viewQuery(w.N7,5)),2&e){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.scrollHeaderViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.scrollHeaderBoxViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.scrollBodyViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.scrollTableViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.scrollLoadingTableViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.scrollFooterViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.scrollFooterBoxViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.scrollableAlignerViewChild=r.first),t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.virtualScrollBody=r.first)}},hostAttrs:[1,"p-element"],inputs:{columns:["ttScrollableView","columns"],frozen:"frozen",scrollHeight:"scrollHeight"},attrs:Oe,decls:12,vars:13,consts:[[1,"p-treetable-scrollable-header"],["scrollHeader",""],[1,"p-treetable-scrollable-header-box"],["scrollHeaderBox",""],[1,"p-treetable-scrollable-header-table",3,"ngClass","ngStyle"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"p-treetable-thead"],[4,"ngIf","ngIfElse"],["virtualScrollTemplate",""],["class","p-treetable-scrollable-footer",4,"ngIf"],[1,"p-treetable-scrollable-body",3,"ngStyle"],["scrollBody",""],[3,"ngStyle"],["scrollTable",""],[1,"p-treetable-tbody",3,"pTreeTableBody","pTreeTableBodyTemplate","frozen"],["style","background-color:transparent",4,"ngIf"],[2,"background-color","transparent"],["scrollableAligner",""],[1,"p-treetable-virtual-scrollable-body",3,"itemSize","minBufferPx","maxBufferPx"],[1,"p-treetable-scrollable-footer"],["scrollFooter",""],[1,"p-treetable-scrollable-footer-box"],["scrollFooterBox",""],[1,"p-treetable-scrollable-footer-table",3,"ngClass","ngStyle"],[1,"p-treetable-tfoot"]],template:function(e,i){if(1&e&&(t.\u0275\u0275elementStart(0,"div",0,1)(2,"div",2,3)(4,"table",4),t.\u0275\u0275template(5,Fe,1,0,"ng-container",5),t.\u0275\u0275elementStart(6,"thead",6),t.\u0275\u0275template(7,Pe,1,0,"ng-container",5),t.\u0275\u0275elementEnd()()()(),t.\u0275\u0275template(8,je,8,15,"ng-container",7),t.\u0275\u0275template(9,We,6,16,"ng-template",null,8,t.\u0275\u0275templateRefExtractor),t.\u0275\u0275template(11,Ge,8,10,"div",9)),2&e){const r=t.\u0275\u0275reference(10);t.\u0275\u0275advance(4),t.\u0275\u0275property("ngClass",i.tt.tableStyleClass)("ngStyle",i.tt.tableStyle),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngTemplateOutlet",i.frozen&&i.tt.frozenColGroupTemplate||i.tt.colGroupTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(9,M,i.columns)),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngTemplateOutlet",i.frozen&&i.tt.frozenHeaderTemplate||i.tt.headerTemplate)("ngTemplateOutletContext",t.\u0275\u0275pureFunction1(11,M,i.columns)),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.tt.virtualScroll)("ngIfElse",r),t.\u0275\u0275advance(3),t.\u0275\u0275property("ngIf",i.tt.footerTemplate)}},dependencies:[be,w.N7,c.NgClass,c.NgStyle,c.NgTemplateOutlet,c.NgIf,w.xd],encapsulation:2}),l})(),lt=(()=>{class l{constructor(e){this.tt=e,this.isEnabled()&&(this.subscription=this.tt.tableService.sortSource$.subscribe(i=>{this.updateSortState()}))}ngOnInit(){this.isEnabled()&&this.updateSortState()}updateSortState(){this.sorted=this.tt.isSorted(this.field)}onClick(e){this.isEnabled()&&(this.updateSortState(),this.tt.sort({originalEvent:e,field:this.field}),f.DomHandler.clearSelection())}onEnterKey(e){this.onClick(e)}isEnabled(){return!0!==this.ttSortableColumnDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B))},l.\u0275dir=t.\u0275\u0275defineDirective({type:l,selectors:[["","ttSortableColumn",""]],hostAttrs:[1,"p-element"],hostVars:6,hostBindings:function(e,i){1&e&&t.\u0275\u0275listener("click",function(s){return i.onClick(s)})("keydown.enter",function(s){return i.onEnterKey(s)}),2&e&&(t.\u0275\u0275attribute("tabindex",i.isEnabled()?"0":null)("role","columnheader"),t.\u0275\u0275classProp("p-sortable-column",i.isEnabled())("p-highlight",i.sorted))},inputs:{field:["ttSortableColumn","field"],ttSortableColumnDisabled:"ttSortableColumnDisabled"}}),l})(),rt=(()=>{class l{constructor(e,i){this.tt=e,this.cd=i,this.subscription=this.tt.tableService.sortSource$.subscribe(r=>{this.updateSortState(),this.cd.markForCheck()})}ngOnInit(){this.updateSortState()}onClick(e){e.preventDefault()}updateSortState(){if("single"===this.tt.sortMode)this.sortOrder=this.tt.isSorted(this.field)?this.tt.sortOrder:0;else if("multiple"===this.tt.sortMode){let e=this.tt.getSortMeta(this.field);this.sortOrder=e?e.order:0}}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["p-treeTableSortIcon"]],hostAttrs:[1,"p-element"],inputs:{field:"field",ariaLabelDesc:"ariaLabelDesc",ariaLabelAsc:"ariaLabelAsc"},decls:1,vars:5,consts:[[1,"p-sortable-column-icon","pi","pi-fw",3,"ngClass"]],template:function(e,i){1&e&&t.\u0275\u0275element(0,"i",0),2&e&&t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction3(1,$e,1===i.sortOrder,-1===i.sortOrder,0===i.sortOrder))},dependencies:[c.NgClass],encapsulation:2,changeDetection:0}),l})(),ot=(()=>{class l{constructor(e,i,r){this.tt=e,this.el=i,this.zone=r}ngAfterViewInit(){this.isEnabled()&&(f.DomHandler.addClass(this.el.nativeElement,"p-resizable-column"),this.resizer=document.createElement("span"),this.resizer.className="p-column-resizer",this.el.nativeElement.appendChild(this.resizer),this.zone.runOutsideAngular(()=>{this.resizerMouseDownListener=this.onMouseDown.bind(this),this.resizer.addEventListener("mousedown",this.resizerMouseDownListener)}))}bindDocumentEvents(){this.zone.runOutsideAngular(()=>{this.documentMouseMoveListener=this.onDocumentMouseMove.bind(this),document.addEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseUpListener=this.onDocumentMouseUp.bind(this),document.addEventListener("mouseup",this.documentMouseUpListener)})}unbindDocumentEvents(){this.documentMouseMoveListener&&(document.removeEventListener("mousemove",this.documentMouseMoveListener),this.documentMouseMoveListener=null),this.documentMouseUpListener&&(document.removeEventListener("mouseup",this.documentMouseUpListener),this.documentMouseUpListener=null)}onMouseDown(e){this.tt.onColumnResizeBegin(e),this.bindDocumentEvents()}onDocumentMouseMove(e){this.tt.onColumnResize(e)}onDocumentMouseUp(e){this.tt.onColumnResizeEnd(e,this.el.nativeElement),this.unbindDocumentEvents()}isEnabled(){return!0!==this.ttResizableColumnDisabled}ngOnDestroy(){this.resizerMouseDownListener&&this.resizer.removeEventListener("mousedown",this.resizerMouseDownListener),this.unbindDocumentEvents()}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone))},l.\u0275dir=t.\u0275\u0275defineDirective({type:l,selectors:[["","ttResizableColumn",""]],hostAttrs:[1,"p-element"],inputs:{ttResizableColumnDisabled:"ttResizableColumnDisabled"}}),l})(),st=(()=>{class l{constructor(e,i,r){this.tt=e,this.el=i,this.zone=r}ngAfterViewInit(){this.isEnabled()&&this.bindEvents()}bindEvents(){this.zone.runOutsideAngular(()=>{this.mouseDownListener=this.onMouseDown.bind(this),this.el.nativeElement.addEventListener("mousedown",this.mouseDownListener),this.dragStartListener=this.onDragStart.bind(this),this.el.nativeElement.addEventListener("dragstart",this.dragStartListener),this.dragOverListener=this.onDragEnter.bind(this),this.el.nativeElement.addEventListener("dragover",this.dragOverListener),this.dragEnterListener=this.onDragEnter.bind(this),this.el.nativeElement.addEventListener("dragenter",this.dragEnterListener),this.dragLeaveListener=this.onDragLeave.bind(this),this.el.nativeElement.addEventListener("dragleave",this.dragLeaveListener)})}unbindEvents(){this.mouseDownListener&&(document.removeEventListener("mousedown",this.mouseDownListener),this.mouseDownListener=null),this.dragOverListener&&(document.removeEventListener("dragover",this.dragOverListener),this.dragOverListener=null),this.dragEnterListener&&(document.removeEventListener("dragenter",this.dragEnterListener),this.dragEnterListener=null),this.dragEnterListener&&(document.removeEventListener("dragenter",this.dragEnterListener),this.dragEnterListener=null),this.dragLeaveListener&&(document.removeEventListener("dragleave",this.dragLeaveListener),this.dragLeaveListener=null)}onMouseDown(e){this.el.nativeElement.draggable="INPUT"!==e.target.nodeName&&"TEXTAREA"!==e.target.nodeName&&!f.DomHandler.hasClass(e.target,"p-column-resizer")}onDragStart(e){this.tt.onColumnDragStart(e,this.el.nativeElement)}onDragOver(e){e.preventDefault()}onDragEnter(e){this.tt.onColumnDragEnter(e,this.el.nativeElement)}onDragLeave(e){this.tt.onColumnDragLeave(e)}onDrop(e){this.isEnabled()&&this.tt.onColumnDrop(e,this.el.nativeElement)}isEnabled(){return!0!==this.ttReorderableColumnDisabled}ngOnDestroy(){this.unbindEvents()}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone))},l.\u0275dir=t.\u0275\u0275defineDirective({type:l,selectors:[["","ttReorderableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&t.\u0275\u0275listener("drop",function(s){return i.onDrop(s)})},inputs:{ttReorderableColumnDisabled:"ttReorderableColumnDisabled"}}),l})(),at=(()=>{class l{constructor(e,i){this.tt=e,this.tableService=i,this.isEnabled()&&(this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.selected=this.tt.isSelected(this.rowNode.node)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.tt.isSelected(this.rowNode.node))}onClick(e){this.isEnabled()&&this.tt.handleRowClick({originalEvent:e,rowNode:this.rowNode})}onEnterKey(e){13===e.which&&this.onClick(e)}onTouchEnd(e){this.isEnabled()&&this.tt.handleRowTouchEnd(e)}isEnabled(){return!0!==this.ttSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(G))},l.\u0275dir=t.\u0275\u0275defineDirective({type:l,selectors:[["","ttSelectableRow",""]],hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(e,i){1&e&&t.\u0275\u0275listener("click",function(s){return i.onClick(s)})("keydown",function(s){return i.onEnterKey(s)})("touchend",function(s){return i.onTouchEnd(s)}),2&e&&t.\u0275\u0275classProp("p-highlight",i.selected)},inputs:{rowNode:["ttSelectableRow","rowNode"],ttSelectableRowDisabled:"ttSelectableRowDisabled"}}),l})(),dt=(()=>{class l{constructor(e,i){this.tt=e,this.tableService=i,this.isEnabled()&&(this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.selected=this.tt.isSelected(this.rowNode.node)}))}ngOnInit(){this.isEnabled()&&(this.selected=this.tt.isSelected(this.rowNode.node))}onClick(e){this.isEnabled()&&this.tt.handleRowClick({originalEvent:e,rowNode:this.rowNode})}isEnabled(){return!0!==this.ttSelectableRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(G))},l.\u0275dir=t.\u0275\u0275defineDirective({type:l,selectors:[["","ttSelectableRowDblClick",""]],hostAttrs:[1,"p-element"],hostVars:2,hostBindings:function(e,i){1&e&&t.\u0275\u0275listener("dblclick",function(s){return i.onClick(s)}),2&e&&t.\u0275\u0275classProp("p-highlight",i.selected)},inputs:{rowNode:["ttSelectableRowDblClick","rowNode"],ttSelectableRowDisabled:"ttSelectableRowDisabled"}}),l})(),ct=(()=>{class l{constructor(e,i,r){this.tt=e,this.tableService=i,this.el=r,this.isEnabled()&&(this.subscription=this.tt.tableService.contextMenuSource$.subscribe(s=>{this.selected=this.tt.equals(this.rowNode.node,s)}))}onContextMenu(e){this.isEnabled()&&(this.tt.handleRowRightClick({originalEvent:e,rowNode:this.rowNode}),this.el.nativeElement.focus(),e.preventDefault())}isEnabled(){return!0!==this.ttContextMenuRowDisabled}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(G),t.\u0275\u0275directiveInject(t.ElementRef))},l.\u0275dir=t.\u0275\u0275defineDirective({type:l,selectors:[["","ttContextMenuRow",""]],hostAttrs:[1,"p-element"],hostVars:3,hostBindings:function(e,i){1&e&&t.\u0275\u0275listener("contextmenu",function(s){return i.onContextMenu(s)}),2&e&&(t.\u0275\u0275attribute("tabindex",i.isEnabled()?0:void 0),t.\u0275\u0275classProp("p-highlight-contextmenu",i.selected))},inputs:{rowNode:["ttContextMenuRow","rowNode"],ttContextMenuRowDisabled:"ttContextMenuRowDisabled"}}),l})(),ht=(()=>{class l{constructor(e,i,r){this.tt=e,this.tableService=i,this.cd=r,this.subscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.checked=this.tt.isSelected(this.rowNode.node),this.cd.markForCheck()})}ngOnInit(){this.checked=this.tt.isSelected(this.rowNode.node)}onClick(e){this.disabled||this.tt.toggleNodeWithCheckbox({originalEvent:e,rowNode:this.rowNode}),f.DomHandler.clearSelection()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(G),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["p-treeTableCheckbox"]],hostAttrs:[1,"p-element"],inputs:{disabled:"disabled",rowNode:["value","rowNode"]},decls:6,vars:15,consts:[[1,"p-checkbox","p-component",3,"ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"checked","focus","blur"],["role","checkbox",3,"ngClass"],["box",""],[1,"p-checkbox-icon","pi",3,"ngClass"]],template:function(e,i){1&e&&(t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275listener("click",function(s){return i.onClick(s)}),t.\u0275\u0275elementStart(1,"div",1)(2,"input",2),t.\u0275\u0275listener("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(3,"div",3,4),t.\u0275\u0275element(5,"span",5),t.\u0275\u0275elementEnd()()),2&e&&(t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(5,Se,i.focused)),t.\u0275\u0275advance(2),t.\u0275\u0275property("checked",i.checked),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction4(7,Ze,i.checked,i.focused,i.rowNode.node.partialSelected,i.disabled)),t.\u0275\u0275attribute("aria-checked",i.checked),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction2(12,qe,i.checked,i.rowNode.node.partialSelected)))},dependencies:[c.NgClass],encapsulation:2,changeDetection:0}),l})(),ut=(()=>{class l{constructor(e,i,r){this.tt=e,this.tableService=i,this.cd=r,this.valueChangeSubscription=this.tt.tableService.uiUpdateSource$.subscribe(()=>{this.checked=this.updateCheckedState()}),this.selectionChangeSubscription=this.tt.tableService.selectionSource$.subscribe(()=>{this.checked=this.updateCheckedState()})}ngOnInit(){this.checked=this.updateCheckedState()}onClick(e,i){this.tt.value&&this.tt.value.length>0&&this.tt.toggleNodesWithCheckbox(e,!i),f.DomHandler.clearSelection()}onFocus(){this.focused=!0}onBlur(){this.focused=!1}ngOnDestroy(){this.selectionChangeSubscription&&this.selectionChangeSubscription.unsubscribe(),this.valueChangeSubscription&&this.valueChangeSubscription.unsubscribe()}updateCheckedState(){let e;this.cd.markForCheck();const i=this.tt.filteredNodes||this.tt.value;if(i)for(let r of i){if(!this.tt.isSelected(r)){e=!1;break}e=!0}else e=!1;return e}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(G),t.\u0275\u0275directiveInject(t.ChangeDetectorRef))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["p-treeTableHeaderCheckbox"]],viewQuery:function(e,i){if(1&e&&t.\u0275\u0275viewQuery(Je,5),2&e){let r;t.\u0275\u0275queryRefresh(r=t.\u0275\u0275loadQuery())&&(i.boxViewChild=r.first)}},hostAttrs:[1,"p-element"],decls:7,vars:14,consts:[[1,"p-checkbox","p-component",3,"ngClass","click"],[1,"p-hidden-accessible"],["type","checkbox",3,"checked","disabled","focus","blur"],["cb",""],["role","checkbox",3,"ngClass"],["box",""],[1,"p-checkbox-icon",3,"ngClass"]],template:function(e,i){if(1&e){const r=t.\u0275\u0275getCurrentView();t.\u0275\u0275elementStart(0,"div",0),t.\u0275\u0275listener("click",function(m){t.\u0275\u0275restoreView(r);const g=t.\u0275\u0275reference(3);return t.\u0275\u0275resetView(i.onClick(m,g.checked))}),t.\u0275\u0275elementStart(1,"div",1)(2,"input",2,3),t.\u0275\u0275listener("focus",function(){return i.onFocus()})("blur",function(){return i.onBlur()}),t.\u0275\u0275elementEnd()(),t.\u0275\u0275elementStart(4,"div",4,5),t.\u0275\u0275element(6,"span",6),t.\u0275\u0275elementEnd()()}2&e&&(t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(6,Se,i.focused)),t.\u0275\u0275advance(2),t.\u0275\u0275property("checked",i.checked)("disabled",!i.tt.value||0===i.tt.value.length),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction3(8,Xe,i.checked,i.focused,!i.tt.value||0===i.tt.value.length)),t.\u0275\u0275attribute("aria-checked",i.checked),t.\u0275\u0275advance(2),t.\u0275\u0275property("ngClass",t.\u0275\u0275pureFunction1(12,Ye,i.checked)))},dependencies:[c.NgClass],encapsulation:2,changeDetection:0}),l})(),Te=(()=>{class l{constructor(e,i,r){this.tt=e,this.el=i,this.zone=r}ngAfterViewInit(){this.isEnabled()&&f.DomHandler.addClass(this.el.nativeElement,"p-editable-column")}onClick(e){if(this.isEnabled())if(this.tt.editingCellClick=!0,this.tt.editingCell){if(this.tt.editingCell!==this.el.nativeElement){if(!this.tt.isEditingCellValid())return;f.DomHandler.removeClass(this.tt.editingCell,"p-cell-editing"),this.openCell()}}else this.openCell()}openCell(){this.tt.updateEditingCell(this.el.nativeElement,this.data,this.field),f.DomHandler.addClass(this.el.nativeElement,"p-cell-editing"),this.tt.onEditInit.emit({field:this.field,data:this.data}),this.tt.editingCellClick=!0,this.zone.runOutsideAngular(()=>{setTimeout(()=>{let e=f.DomHandler.findSingle(this.el.nativeElement,"input, textarea");e&&e.focus()},50)})}closeEditingCell(){f.DomHandler.removeClass(this.tt.editingCell,"p-checkbox-icon"),this.tt.editingCell=null,this.tt.unbindDocumentEditListener()}onKeyDown(e){this.isEnabled()&&(13==e.keyCode?(this.tt.isEditingCellValid()&&(f.DomHandler.removeClass(this.tt.editingCell,"p-cell-editing"),this.closeEditingCell(),this.tt.onEditComplete.emit({field:this.field,data:this.data})),e.preventDefault()):27==e.keyCode?(this.tt.isEditingCellValid()&&(f.DomHandler.removeClass(this.tt.editingCell,"p-cell-editing"),this.closeEditingCell(),this.tt.onEditCancel.emit({field:this.field,data:this.data})),e.preventDefault()):9==e.keyCode&&(this.tt.onEditComplete.emit({field:this.field,data:this.data}),e.shiftKey?this.moveToPreviousCell(e):this.moveToNextCell(e)))}findCell(e){if(e){let i=e;for(;i&&!f.DomHandler.hasClass(i,"p-cell-editing");)i=i.parentElement;return i}return null}moveToPreviousCell(e){let i=this.findCell(e.target),s=this.findPreviousEditableColumn(i);s&&(f.DomHandler.invokeElementMethod(s,"click"),e.preventDefault())}moveToNextCell(e){let i=this.findCell(e.target),s=this.findNextEditableColumn(i);s&&(f.DomHandler.invokeElementMethod(s,"click"),e.preventDefault())}findPreviousEditableColumn(e){let i=e.previousElementSibling;if(!i){let r=e.parentElement?e.parentElement.previousElementSibling:null;r&&(i=r.lastElementChild)}return i?f.DomHandler.hasClass(i,"p-editable-column")?i:this.findPreviousEditableColumn(i):null}findNextEditableColumn(e){let i=e.nextElementSibling;if(!i){let r=e.parentElement?e.parentElement.nextElementSibling:null;r&&(i=r.firstElementChild)}return i?f.DomHandler.hasClass(i,"p-editable-column")?i:this.findNextEditableColumn(i):null}isEnabled(){return!0!==this.ttEditableColumnDisabled}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone))},l.\u0275dir=t.\u0275\u0275defineDirective({type:l,selectors:[["","ttEditableColumn",""]],hostAttrs:[1,"p-element"],hostBindings:function(e,i){1&e&&t.\u0275\u0275listener("click",function(s){return i.onClick(s)})("keydown",function(s){return i.onKeyDown(s)})},inputs:{data:["ttEditableColumn","data"],field:["ttEditableColumnField","field"],ttEditableColumnDisabled:"ttEditableColumnDisabled"}}),l})(),pt=(()=>{class l{constructor(e,i){this.tt=e,this.editableColumn=i}ngAfterContentInit(){this.templates.forEach(e=>{switch(e.getType()){case"input":this.inputTemplate=e.template;break;case"output":this.outputTemplate=e.template}})}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(Te))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["p-treeTableCellEditor"]],contentQueries:function(e,i,r){if(1&e&&t.\u0275\u0275contentQuery(r,L.PrimeTemplate,4),2&e){let s;t.\u0275\u0275queryRefresh(s=t.\u0275\u0275loadQuery())&&(i.templates=s)}},hostAttrs:[1,"p-element"],decls:2,vars:2,consts:[[4,"ngIf"],[4,"ngTemplateOutlet"]],template:function(e,i){1&e&&(t.\u0275\u0275template(0,tt,2,1,"ng-container",0),t.\u0275\u0275template(1,nt,2,1,"ng-container",0)),2&e&&(t.\u0275\u0275property("ngIf",i.tt.editingCell===i.editableColumn.el.nativeElement),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngIf",!i.tt.editingCell||i.tt.editingCell!==i.editableColumn.el.nativeElement))},dependencies:[c.NgIf,c.NgTemplateOutlet],encapsulation:2}),l})(),ft=(()=>{class l{constructor(e,i,r){this.tt=e,this.el=i,this.zone=r}onKeyDown(e){switch(e.which){case 40:let i=this.el.nativeElement.nextElementSibling;i&&i.focus(),e.preventDefault();break;case 38:let r=this.el.nativeElement.previousElementSibling;r&&r.focus(),e.preventDefault();break;case 37:this.rowNode.node.expanded&&(this.tt.toggleRowIndex=f.DomHandler.index(this.el.nativeElement),this.rowNode.node.expanded=!1,this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.restoreFocus());break;case 39:this.rowNode.node.expanded||(this.tt.toggleRowIndex=f.DomHandler.index(this.el.nativeElement),this.rowNode.node.expanded=!0,this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),this.restoreFocus())}}restoreFocus(){this.zone.runOutsideAngular(()=>{setTimeout(()=>{let e=f.DomHandler.findSingle(this.tt.containerViewChild.nativeElement,".p-treetable-tbody").children[this.tt.toggleRowIndex];e&&e.focus()},25)})}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B),t.\u0275\u0275directiveInject(t.ElementRef),t.\u0275\u0275directiveInject(t.NgZone))},l.\u0275dir=t.\u0275\u0275defineDirective({type:l,selectors:[["","ttRow",""]],hostAttrs:[1,"p-element"],hostVars:1,hostBindings:function(e,i){1&e&&t.\u0275\u0275listener("keydown",function(s){return i.onKeyDown(s)}),2&e&&t.\u0275\u0275attribute("tabindex","0")},inputs:{rowNode:["ttRow","rowNode"]}}),l})(),mt=(()=>{class l{constructor(e){this.tt=e}onClick(e){this.rowNode.node.expanded=!this.rowNode.node.expanded,this.rowNode.node.expanded?this.tt.onNodeExpand.emit({originalEvent:e,node:this.rowNode.node}):this.tt.onNodeCollapse.emit({originalEvent:e,node:this.rowNode.node}),this.tt.updateSerializedValue(),this.tt.tableService.onUIUpdate(this.tt.value),e.preventDefault()}}return l.\u0275fac=function(e){return new(e||l)(t.\u0275\u0275directiveInject(B))},l.\u0275cmp=t.\u0275\u0275defineComponent({type:l,selectors:[["p-treeTableToggler"]],hostAttrs:[1,"p-element"],inputs:{rowNode:"rowNode"},decls:2,vars:5,consts:[["type","button","tabindex","-1","pRipple","",1,"p-treetable-toggler","p-link",3,"click"],[3,"ngClass"]],template:function(e,i){1&e&&(t.\u0275\u0275elementStart(0,"button",0),t.\u0275\u0275listener("click",function(s){return i.onClick(s)}),t.\u0275\u0275element(1,"i",1),t.\u0275\u0275elementEnd()),2&e&&(t.\u0275\u0275styleProp("visibility",!1===i.rowNode.node.leaf||i.rowNode.node.children&&i.rowNode.node.children.length?"visible":"hidden")("margin-left",16*i.rowNode.level+"px"),t.\u0275\u0275advance(1),t.\u0275\u0275property("ngClass",i.rowNode.node.expanded?"pi pi-fw pi-chevron-down":"pi pi-fw pi-chevron-right"))},dependencies:[Z.Ripple,c.NgClass],encapsulation:2}),l})(),gt=(()=>{class l{}return l.\u0275fac=function(e){return new(e||l)},l.\u0275mod=t.\u0275\u0275defineNgModule({type:l}),l.\u0275inj=t.\u0275\u0275defineInjector({imports:[[c.CommonModule,V.PaginatorModule,w.Cl,Z.RippleModule],L.SharedModule,w.Cl]}),l})()}}]);